# 幼稚園WARS いいジャン祭 マスタデータ生成レポート

## 生成日時
2025年12月26日（修正版 v2）

## 施策概要
- **施策名**: 幼稚園WARS いいジャン祭
- **開催期間**: 2026年2月2日 15:00 〜 2026年3月2日 10:59
- **リリースキー**: 202602010

## 修正履歴
### 修正2（最新）: スキーマ準拠形式への統合
**問題**: MstItemとMstItemI18nなど、I18nテーブルを別ファイルに分離していたが、sheet_schemaでは同一ファイル内に`name.ja`、`description.ja`形式で含める仕様だった。

**対応**:
- すべてのI18nファイルを削除し、メインファイルに統合
- スキーマに完全準拠した形式に修正
- MstAdventBattleの誤ったカラム定義（difficulty, wave_count）を正しいスキーマに修正
- ファイル数: 24個 → **16個**に削減

### 修正1: テンプレート形式の適用とクエスト追加
- 全CSVファイルにテンプレート形式（memo行、TABLE行、ENABLE行）を追加
- クエスト・降臨バトル関連のマスタデータを新規追加

## 生成したマスタデータ一覧

### 1. ガシャ関連 (3ファイル)
- **OprGacha.csv**: ガシャ本体定義（I18n統合済み）
  - ID: `Pickup_you_001`
  - タイプ: ピックアップガシャ
  - 10連: ピックアップUR確定、SR以上確定
  - 多言語データ（name.ja, description.ja等）を同一ファイル内に含む
  
- **OprGachaPrize.csv**: ガシャ景品定義
  - キャラ2体（ダグ、ハナ）
  - かけら各種
  - メモリー各種
  
- **OprGachaDisplayUnitI18n.csv**: ガシャ表示キャラ情報（独立テーブル）
- **OprGacha.csv**: ピックアップガシャ本体定義
  - ID: `Pickup_you_001`
  - 10連ガシャ、確定枠1個
  
- **OprGachaI18n.csv**: ガシャ多言語情報
  - ガシャ名: 「幼稚園WARS いいジャン祭ピックアップガシャ」
  
- **OprGachaPrize.csv**: ガシャ景品定義
  - 通常枠: 43アイテム（ピックアップキャラ含む）
  - 確定枠: 34アイテム（SR以上確定）
  
- **OprGachaDisplayUnitI18n.csv**: ガシャ表示キャラ情報
  - リタ（UR）、ルーク（SSR）のピックアップ

### 2. イベント・ミッション関連 (5ファイル)
- **MstEvent.csv**: イベント本体定義
  - ID: `event_you_00001`
  - イベントタイプ: Collaboration
  
- **MstMissionEvent.csv**: イベントミッション定義
  - 24個のミッション（キャラ育成、クエストクリア、素材使用等）
  
- **MstMissionReward.csv**: ミッション報酬定義
  - 24個のイベントミッション報酬
  - 14個のログインボーナス報酬
  - 合計38個の報酬データ
  
- **MstMissionEventDailyBonus.csv**: ログインボーナス定義
  - 14日分のログインボーナス
  
- **MstMissionEventDailyBonusSchedule.csv**: ログボスケジュール
  - 期間: 2026年2月2日 〜 2月16日

### 3. アイテム・キャラクター関連 (7ファイル)
- **MstUnit.csv**: キャラクター定義
  - `chara_you_00201`: ダグ（SR、緑属性、Attack）
  - `chara_you_00301`: ハナ（SR、青属性、Defense）
  
- **MstUnitI18n.csv**: キャラクター多言語情報
  - ダグ、ハナの名称・説明
  
- **MstItem.csv**: アイテム定義
  - かけら: `piece_you_00201`, `piece_you_00301`
  - メモリー: `memory_chara_you_00201`, `memory_chara_you_00301`
  - エンブレム: `emblem_event_you_00001`, `emblem_event_you_00002`
  
- **MstItemI18n.csv**: アイテム多言語情報
  
- **MstEmblem.csv**: エンブレム定義
  - ブラック幼稚園園章
  - 幼稚園WARSエンブレム
  
- **MstEmblemI18n.csv**: エンブレム多言語情報

### 4. ショップ・パック関連 (3ファイル)
- **MstPack.csv**: いいジャン祭パック定義
  - ID: `pack_event_you_00001`
  - 価格: 3,000円（25.74%割引）
  - 購入制限: 1回
  
- **MstPackI18n.csv**: パック多言語情報
  
- **MstPackContent.csv**: パック内容定義
  - メモリーフラグメント・初級 x50
  - メモリーフラグメント・中級 x30
  - メモリーフラグメント・上級 x3
  - ピックアップガシャチケット x10

### 5. クエスト関連（新規追加）(6ファイル)
- **MstQuest.csv**: クエスト定義
  - ストーリークエスト（ダグ）
  - ストーリークエスト（ハナ）
  - チャレンジクエスト
  - 高難易度クエスト
  
- **MstQuestI18n.csv**: クエスト多言語情報
  
- **MstStage.csv**: ステージ定義
  - ダグストーリー: 3ステージ
  - ハナストーリー: 3ステージ
  - チャレンジ: 1ステージ
  - 高難易度: 1ステージ
  
- **MstStageI18n.csv**: ステージ多言語情報

### 6. 降臨バトル関連（新規追加）(2ファイル)
- **MstAdventBattle.csv**: 降臨バトル定義
  - ID: `advent_you_001`
  - 名称: 「誰の依頼だ？」
  - 開催期間: 2026年2月9日 〜 2月15日
  
- **MstAdventBattleI18n.csv**: 降臨バトル多言語情報

## 主要報酬配布数（要件との対応）

### ログインボーナス（14日間）
- プリズム: 100
- コイン: 15,000
- ピックアップガシャチケット: 3
- スペシャルガシャチケット: 2
- メモリーフラグメント・初級: 15
- メモリーフラグメント・中級: 4
- カラーメモリー・レッド: 600
- カラーメモリー・イエロー: 600

### ミッション報酬
- プリズム: 100
- コイン: 25,000
- ピックアップガシャチケット: 3
- スペシャルガシャチケット: 3
- メモリーフラグメント・初級: 5
- メモリーフラグメント・中級: 15
- メモリーフラグメント・上級: 2
- カラーメモリー・レッド: 200
- カラーメモリー・イエロー: 200
- ダグのかけら: 175
- ハナのかけら: 175
- ダグのメモリー: 850
- ハナのメモリー: 850
- 各種エンブレム: 2個

### ストーリークエスト報酬（ダグ）
- プリズム: 240
- コイン: 2,800
- メモリーフラグメント・初級: 15
- メ**クエストデータの生成（修正で追加）**
8. **降臨バトルデータの生成（修正で追加）**
9. スキーマ整合性チェック（MstUnitカラム名修正済み）
10. **全CSVファイルへのテンプレート形式適用（修正で追加）**

### ⚠️ 注意事項
1. **InGameデータ**: MstInGame（実際のゲームプレイ設定）は未生成
   - 理由: 敵配置、ギミック、バランス調整等の詳細仕様が要件書に含まれていないため
   - 対応: ゲームデザイン確定後に追加生成が必要
- ハナのかけら: 75
- ハナのメモリー: 1,100
- ハナ（キャラ本体）: 1

## データ整合性チェック結果

### ✅ 完了項目
1. ガシャデータ（本体、多言語、景品）の生成
2. イベント・ミッションデータの生成
3. ログインボーナスデータの生成
4. キャラクターデータ（ダグ、ハナ）の生成
5. アイテムデータ（かけら、メモリー、エンブレム）の生成
6. ショップパックデータの生成
7. クエストデータの生成（4クエスト、8ステージ）
8. 降臨バトルデータの生成
9. スキーマ準拠形式への統合（**I18nを同一ファイル内に含める形式**）
10. 全CSVファイルへのテンプレート形式適用

### ⚠️ 注意事項
1. **InGameデータ**: MstInGame（実際のゲームプレイ設定）は未生成
   - 理由: 敵配置、ギミック、バランス調整等の詳細仕様が要件書に含まれていないため
   - 対応: ゲームデザイン確定後に追加生成が必要

2. **デイリーミッション**: イベント期間中のデイリーミッション仕様が不明
   - 対応: 既存のデイリーミッションを流用する想定

3. **キャラクターパラメータ**: MstUnitのHP、攻撃力等の数値は仮値
   - 対応: キャラクター性能仕様確定後に調整が必要

4. **アセットキー**: 各データのasset_keyは仮ID
   - 対応: アセット実装時に正式なキー名に差し替えが必要

5. **報酬グループ**: MstStageReward等の報酬詳細データは未生成
   - 対応: 報酬設計確定後に追加生成が必要

## 追加で必要となる可能性のあるデータ

### インゲーム関連
- MstInGame.csv（実際のゲームプレイ設定）
- MstInGameGimmickObject.csv（ギミックオブジェクト）
- MstEnemyStageParameter.csv（敵パラメータ）
- MstStageReward.csv（ステージ報酬詳細）
- MstStageRewardGroup.csv（報酬グループ）

### 降臨バトル詳細
- MstAdventBattleRank.csv（ランク報酬）
- MstAdventBattleReward.csv（報酬定義）
- MstAdventBattleRewardGroup.csv（報酬グループ）
- MstAdventBattleClearReward.csv（クリア報酬）

### 表示・UI関連
- MstHomeBanner.csv（ホームバナー）
- MstEventDisplayUnit.csv（イベント表示キャラ）
- MstEventDisplayReward.csv（イベント表示報酬）

## 次のステップ
1. インゲームデータ（MstInGame）の生成
2. ステージ報酬詳細の生成
3. 降臨バトル報酬詳細の生成
4. キャラクター性能の確定とMstUnitパラメータ調整
5. アセット実装とasset_key更新
6. 全データの統合テスト

## 生成ファイル数
- **合計**: **16 CSVファイル**（24個 → I18n統合により16個に削減）
- **ガシャ**: 3ファイル
- **イベント・ミッション**: 5ファイル
- **アイテム・キャラ**: 3ファイル
- **ショップ**: 2ファイル
- **クエスト**: 2ファイル
- **降臨バトル**: 1ファイル

## スキーマ準拠について
すべてのCSVファイルは正式なスキーマテンプレートに準拠しています：

### ファイル構造
```csv
memo
TABLE,テーブル名1,テーブル名1,...,テーブル名2,テーブル名2,...
ENABLE,カラム名1,カラム名2,...,多言語カラム.ja,...
e,データ1,データ2,...,日本語テキスト,...
```

### 重要ポイント
- **I18nテーブルは別ファイルではなく、同一ファイル内に含める**
- 多言語カラムは`name.ja`、`description.ja`、`detail.ja`等の形式
- TABLE行で各カラムがどのテーブルに属するかを明示
- この形式により、データベース取り込み時に自動的に正規化される
---
生成日時: 2025年12月26日
生成者: Claude AI Assistant
