---
description: 仕様書フォルダからマスタデータを完全生成
argument-hint: spec-directory-path
agent: 'agent'
---

# GLOWマスタデータフル実行ワークフロー

指定された仕様書フォルダから、仕様ファイル構成の分析→マスタデータ生成までを1回の実行で完遂します。

## コンテキスト

このプロンプトは、既存の2つのプロンプトを順次実行する統合ワークフローです：

1. **マスタデータ-1.仕様ファイル構成生成**: 仕様ファイル構成.mdの生成
2. **マスタデータ-2.データ生成**: マスタデータの生成

## タスク

指定されたディレクトリ（引数で受け取る）に対して、以下の2つのステップを**順番に実行**してください：

### ステップ1: ファイル関係性ドキュメントの生成

**`.github/prompts/マスタデータ-1.仕様ファイル構成生成.prompt.md`** のプロンプトを実行してください。

引数として、ユーザーが指定したディレクトリパスを渡してください。

これにより、`[指定ディレクトリ]/仕様ファイル構成.md` が生成されます。

### ステップ2: マスタデータの完全生成

ステップ1が完了したら、**`.github/prompts/マスタデータ-2.データ生成.prompt.md`** のプロンプトを実行してください。

引数として、以下の情報を渡してください：
```
仕様ファイル構成.mdを必要に応じて使いつつ、[指定ディレクトリ] のマスタデータ作成を最後まで中断せずにやり切って。
```

これにより、`マスタデータ/仕様/` 以下に全てのマスタデータCSVとREPORT.mdが生成されます。

## 重要な注意事項

### タスク完遂の原則 ⚠️

- **両方のステップを完全に実行**: ステップ1だけで終わらず、必ずステップ2まで完遂してください
- **途中で止めない**: ステップ2では、要件に含まれる全てのマスタデータを最後まで生成してください
- **完了条件**: REPORTに「未作成のマスタデータ」が残らないようにしてください

### 完了の確認

以下が全て完了していることを確認してください：

#### ステップ1の成果物
- ✅ `[指定ディレクトリ]/仕様ファイル構成.md` が生成されている

#### ステップ2の成果物
- ✅ **全てのCSVファイルがテンプレートファイルからコピーして作成されている**
- ✅ 全てのマスタデータCSVファイルが生成されている
- ✅ `REPORT.md` が生成されている
- ✅ REPORTに「未作成のマスタデータ」セクションが存在しない
- ✅ REPORTに「スキーマ検証と修正」セクションが含まれている

## 出力形式

### 最終的なディレクトリ構造

```
[指定ディレクトリ]/
└── 仕様ファイル構成.md  ← ステップ1で生成

マスタデータ/仕様/
└── [要件を要約した日本語]/
    ├── REPORT.md              ← ステップ2で生成
    ├── [ModelName1].csv       ← ステップ2で生成
    ├── [ModelName2].csv       ← ステップ2で生成
    └── [ModelName3].csv       ← ステップ2で生成
```

## 使用例

```
/マスタデータ-0.フル実行 docs/マスタデータ作成/src/20260116_地獄楽 いいジャン祭_仕様書
```

## 参照プロンプト

このプロンプトは以下の2つのプロンプトファイルに依存しています：

- `.github/prompts/マスタデータ-1.仕様ファイル構成生成.prompt.md`
- `.github/prompts/マスタデータ-2.データ生成.prompt.md`

各ステップの詳細な仕様や注意事項は、それぞれのプロンプトファイルを参照してください。
