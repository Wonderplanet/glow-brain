# Claude Code ガイド相談レポート

**日付**: 2026年01月09日
**トピック**: opusplanモデルの設定方法

## 相談内容

- opusplanをデフォルトモデルとして設定する方法
- `/model`コマンドで選択肢が表示されない理由
- opusplanモデルの動作特性

## 重要な結論・学び

### opusplanをデフォルトモデルとして設定する方法

opusplanは複数の方法でデフォルトモデルとして設定できます。最も確実な方法は設定ファイルでの指定です。

> 出典: [モデルの設定方法 - Claude Code Documentation](https://code.claude.com/docs/ja/model-config#モデルの設定方法)

**設定ファイルでの指定（推奨）**:

```json
{
  "permissions": {
    ...
  },
  "model": "opusplan"
}
```

**その他の設定方法**:

1. **起動時に指定**:
```bash
claude --model opusplan
```

2. **環境変数で設定**:
```bash
export ANTHROPIC_MODEL=opusplan
```

3. **セッション中に一時切り替え**:
```
/model opusplan
```

**ベストプラクティス**:
- プロジェクトで常にopusplanを使いたい場合は、`settings.json`での設定が最適
- 一時的な切り替えには`/model`コマンドを使用
- チーム全体で統一したい場合は環境変数を推奨

**注意点**:
- アカウントがopusplanへのアクセス権を持っている必要がある
- Claude Codeが最新版にアップデートされていることを確認

### opusplanの自動ハイブリッド動作

opusplanは、タスクのフェーズに応じて自動的に最適なモデルを切り替える特別な動作をします。

> 出典: [opusplanモデルの特別な動作 - Claude Code Documentation](https://code.claude.com/docs/ja/model-config#opusplanモデルの特別な動作)

**動作の仕組み**:

- **プランモード中** → `opus`を使用
  - 複雑な推論とアーキテクチャ決定に最適
  - 設計の品質を重視

- **実行モード中** → `sonnet`に自動切り替え
  - コード生成と実装に最適
  - 実装速度と効率を重視

**ベストプラクティス**:
- 複雑な機能実装や設計が必要なタスクでopusplanを活用
- Opusの推論力とSonnetの実装効率の両方を得られる
- コストと品質のバランスを自動的に最適化

### /modelコマンドの選択肢表示について

`/model`コマンドで選択肢が表示されない場合の対処法について。

**確認すべきポイント**:
1. アカウントがopusplanへのアクセス権を有しているか
2. Claude Codeが最新版にアップデートされているか

**対処法**:
- 選択肢の表示については公式ドキュメントに明示的な記載がない
- **確実な方法**: `settings.json`で直接`"model": "opusplan"`を指定する
- 問題が解決しない場合は、フィードバックを通じて報告またはClaude Code公式サポートに確認

**注意点**:
- 選択肢の表示機能は将来のアップデートで改善される可能性がある
- 設定ファイルでの直接指定が最も確実で推奨される方法

## 参照ドキュメント

各トピックで参照した公式ドキュメントのURL一覧：

- [モデルの設定方法 - Claude Code Documentation](https://code.claude.com/docs/ja/model-config#モデルの設定方法)
- [opusplanモデルの特別な動作 - Claude Code Documentation](https://code.claude.com/docs/ja/model-config#opusplanモデルの特別な動作)

## 次のアクション

- [ ] `settings.json`に`"model": "opusplan"`を追加してデフォルト設定を行う
- [ ] 実際にopusplanを使用して、プランモードと実行モードでの動作を体験する
- [ ] 必要に応じて、選択肢表示の問題をフィードバックとして報告

---

*このレポートは `/guide-chat` コマンドにより自動生成されました*
