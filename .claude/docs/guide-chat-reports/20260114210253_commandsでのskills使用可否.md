# Claude Code ガイド相談レポート

**日付**: 2026年01月14日
**トピック**: commandsでskillsは使用できるか / 自動継承の可否

## 相談内容

- commands内でskillsを参照・利用できるか
- commandsからskillsのresources、tools、instructionsを自動継承できるか
- 「コマンド(commands)からはskillsを自動継承できない」という記述の信憑性

## 重要な結論・学び

### 1. commandsからskillsへの参照機構は存在しない

**結論: commandsの定義ファイル内でskillsを直接参照することはできません。**

公式ドキュメントによると、commandsのfrontmatterで指定できるフィールドは以下の通り:

```yaml
---
allowed-tools: Bash(git add:*), Bash(git status:*)
argument-hint: [message]
description: Create a git commit
model: claude-3-5-haiku-20241022
context: fork
agent: general-purpose
disable-model-invocation: false
hooks: {...}
---
```

**`skills`フィールドは存在しません。** commandsからskillsを読み込む仕組みはありません。

> 出典: [Slash Commands - Claude Code Official Docs](https://code.claude.com/docs/en/slash-commands.md#frontmatter)

### 2. 「自動継承できない」は正確な記述

**信憑性: 非常に高い**

公式ドキュメントの記述:

> "Built-in agents (Explore, Plan, general-purpose) do not have access to your Skills. Only custom subagents you define in `.claude/agents/` with an explicit `skills` field can use Skills."

つまり:
- ✅ **Subagentsでもskillsを明示的に指定する必要がある** → 自動継承なし
- ❌ **Commandsにはskills参照機構が存在しない** → そもそも継承の対象外

「自動継承」という概念は、commandsには適用されません。

> 出典: [Skills and Subagents - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md#give-a-subagent-access-to-skills)

### 3. commandsとskillsの関係性

| 項目 | Commands | Skills |
|------|----------|--------|
| **実行方法** | 明示的（`/command-name`） | 自動発見（Claudeが判断） |
| **スコープ** | 単一ファイル | ディレクトリ + 複数ファイル |
| **他機能との連携** | Hooks定義可能 | forked context, subagent指定可能 |
| **Skillsへの参照** | ❌ 不可 | Subagentsで明示的に指定可能 |

commandsとskillsは**独立した機能**であり、相互参照の仕組みはありません。

> 出典: [Skills vs Slash Commands - Claude Code Official Docs](https://code.claude.com/docs/en/slash-commands.md#skills-vs-slash-commands)

### 4. Subagentsでのskills使用

Subagentsでは明示的に指定することで、skillsを利用できます:

**正しい例**:
```yaml
# .claude/agents/code-reviewer.md
---
name: code-reviewer
description: Review code for quality and best practices
skills: pr-review, security-check
---
```

**注意点**:
- Built-in agents (Explore, Plan, general-purpose) はskillsにアクセスできない
- Custom subagentsのみ、`skills`フィールドで明示的に指定する

> 出典: [Give a subagent access to Skills - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md#give-a-subagent-access-to-skills)

### 5. ベストプラクティス

**❌ 誤った使い方**:
```yaml
# .claude/commands/review.md
---
skills: code-review  # ← このフィールドは存在しない
---
```

**✅ 正しい使い方**:
```markdown
# commandsとskillsは独立して定義

# .claude/commands/review.md
---
description: Review code for quality
allowed-tools: Read, Grep
---
[独自のプロンプト]

# .claude/skills/code-review/SKILL.md
---
name: code-review
description: Comprehensive code review with multiple perspectives
---
[skillsのプロンプト]
```

**連携方法**:
- commandsを実行する中で、Claudeが必要に応じてSkillツールを使ってskillsを呼び出すことは可能
- ただし、これは「自動継承」ではなく、Claudeの判断による明示的な呼び出し

## 参照ドキュメント

すべてのURLは検証済み:

- [Slash Commands - Claude Code Official Docs](https://code.claude.com/docs/en/slash-commands.md)
- [Slash Commands Frontmatter - Claude Code Official Docs](https://code.claude.com/docs/en/slash-commands.md#frontmatter)
- [Skills vs Slash Commands - Claude Code Official Docs](https://code.claude.com/docs/en/slash-commands.md#skills-vs-slash-commands)
- [Agent Skills - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md)
- [Skills and Subagents - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md#skills-and-subagents)
- [Give a subagent access to Skills - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md#give-a-subagent-access-to-skills)
- [When to use Skills versus other options - Claude Code Official Docs](https://code.claude.com/docs/en/skills.md#when-to-use-skills-versus-other-options)

## 次のアクション

- commandsとskillsの設計を見直す際は、両者が独立していることを前提とする
- 共通のロジックが必要な場合は、resourcesファイルやドキュメントの共有を検討
- subagentsを活用する際は、必要なskillsを明示的に指定する

---

*このレポートは `/guide-chat` コマンドにより自動生成されました*
