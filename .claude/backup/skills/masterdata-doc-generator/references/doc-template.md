# ドキュメントテンプレート

このテンプレートは、マスタデータ設定方法ドキュメントの標準構成を定義します。

## 基本構成

```markdown
# [コンテンツ名] マスタデータ設定方法

## 目次

1. [概要](#概要)
2. [[コンテンツ名]で使用するテーブル](#コンテンツ名で使用するテーブル)
3. [各テーブルの設定方法](#各テーブルの設定方法)
4. [設定例](#設定例)
5. [注意事項とチェックポイント](#注意事項とチェックポイント)

---

## 概要

[コンテンツの説明]

### [必要に応じてサブセクション]

---

## [コンテンツ名]で使用するテーブル

[コンテンツ]の設定には以下のシートを使用します。

| シート | 対応するDBテーブル | 用途 |
|-------|------------------|------|
| **[シート名]** | `[テーブル名]`<br>`[テーブル名]_i18n` | [用途説明] |

---

## 各テーブルの設定方法

### 1. [シート名]（[日本語名]）

[テーブルの説明]

#### 列の説明

| 列名 | 型 | NULL許容 | 説明 | 設定例 |
|------|-----|---------|------|--------|
| **[列名]** | [型] | [○または空欄] | [説明] | `[例]` |

#### [必要に応じて補足セクション]

---

## 設定例

### [シナリオ名]の設定例

#### [シート名]

| [列1] | [列2] | [列3] | ... |
|-------|-------|-------|-----|
| [値1] | [値2] | [値3] | ... |

---

## 注意事項とチェックポイント

### 必須確認事項

#### 1. [項目名]

- [ ] [チェック項目1]
- [ ] [チェック項目2]

### よくあるミス

#### 1. [ミスのタイトル]

**誤**: [間違った例]
**正**: [正しい例]

### テスト時の確認項目

- [ ] [確認項目1]
- [ ] [確認項目2]
```

## セクション別ガイドライン

### 概要セクション

- コンテンツの目的と機能を簡潔に説明
- 必要に応じてタイプ一覧や構成要素を表で整理
- 参考資料（Google Spreadsheetsなど）へのリンクを含める

### テーブル一覧セクション

- 使用するすべてのシートとDBテーブルをリスト
- i18nテーブルも明記
- 用途を簡潔に記載

### 各テーブルの設定方法セクション

#### 列の説明テーブル

- **型の表記**: DBスキーマ型を非エンジニア向けに変換
  - `varchar(255)` → **文字列**
  - `int`, `bigint` → **整数**
  - `decimal`, `float` → **少数**
  - `datetime` → **日時**
  - `enum` → **列挙型**（選択肢を併記）

- **NULL許容**:
  - nullable → ○
  - not null → （空欄）

- **設定例**: 実際の値を記載（`XXX`のような抽象的な例は避ける）

#### 補足セクション

- ENUM値の一覧と説明
- 特殊なフィールドの使い方（`__NULL__`など）
- フィールド間の関係性

### 設定例セクション

- **Markdownテーブル形式**で記載（CSV形式ではない）
- 実際のマスタデータから抽出した例を使用
- ENABLE、release_keyは除外
- 空欄は「（空欄）」と明記
- 特殊値（`__NULL__`）はそのまま記載

### 注意事項とチェックポイントセクション

#### 必須確認事項

- チェックリスト形式
- IDの一意性、外部キーの整合性など

#### よくあるミス

- **誤**と**正**を明確に対比
- 実際に起こりやすいミスを記載
- キャメルケース/スネークケースの混同に注意

#### テスト時の確認項目

- 実際のテスト時に確認すべき項目をリスト

## ENUM値の記載ルール

### ドキュメント内での記載

```markdown
| criterion_type | criterion_value | criterion_count | 意味 |
|---------------|-----------------|-----------------|------|
| `LoginCount` | （空欄） | `1` | ログインを1回する |
| `SpecificStageClearCount` | `1` | `1` | ステージ1を1回クリア |
```

### 付録セクション

詳細なENUM値リストは付録セクションに記載：

```markdown
## 付録：主要な[ENUM名]一覧

### [カテゴリ名]
- `EnumValue1` - 説明
- `EnumValue2` - 説明

**Note**: すべての値はキャメルケースで記述する必要があります。
```

## i18n（多言語）フィールドの記載

```markdown
| **name.ja** | 文字列 |  | 名前（日本語） | `夏の試練！` |
| **name.en** | 文字列 |  | 名前（英語） | `Summer Trial!` |
```

**注意**: `_i18n`テーブルは自動分割されるため、プランナーは親テーブルのCSVに`.ja`, `.en`サフィックスで記載するだけで良い。

## 外部キー参照の記載

```markdown
| **mst_mission_reward_group_id** | 文字列 |  | 報酬グループID（外部参照：MstMissionReward.group_id） | `achievement_reward_1` |
```

外部キーであることを「（外部参照）」または「（外部キー）」で明示。

## 除外フィールド

以下のフィールドはドキュメントに含めない：
- `ENABLE`
- `release_key`
- `created_at`
- `updated_at`

これらはシステム管理用であり、プランナーが設定する必要がない。
