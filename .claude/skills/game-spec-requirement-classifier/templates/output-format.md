# 出力フォーマットテンプレート

要件抽出・分類の結果を出力する際の標準フォーマットです。

## 基本フォーマット

### Markdownテーブル形式（標準）

```markdown
# 要件分類結果

## 1. 機能要件（Functional Requirement）

| No | 要件 | 説明 |
|---|---|---|
| F-1 | ガチャを引ける | ユーザーがガチャ機能を利用可能 |
| F-2 | ミッション達成報酬付与 | ミッション達成時に自動で報酬が付与される |

## 2. 非機能要件（Non-Functional Requirement）

| No | 要件 | 説明 |
|---|---|---|
| NF-1 | レスポンス時間 | APIレスポンスは500ms以内 |
| NF-2 | 二重付与防止 | 報酬の二重付与を防ぐ仕組みが必要 |

## 3. 運用要件（Operational Requirement）

| No | 要件 | 説明 |
|---|---|---|
| O-1 | 設定テーブル制御 | 機能のON/OFFを設定テーブルで切り替え可能 |
| O-2 | 即時反映 | 設定変更は即時反映される |

## 4. 制約条件（Constraint）

| No | 要件 | 説明 |
|---|---|---|
| C-1 | 既存テーブル使用 | 既存のuser_itemsテーブルを使用する |
| C-2 | API互換性維持 | 既存APIの互換性を維持する |

## 5. 実装要件（Implementation Requirement）

| No | 要件 | 説明 |
|---|---|---|
| I-1 | 既存機能流用 | 既存のRewardUseCaseを流用して実装 |
| I-2 | 新規UseCase不要 | 新しいUseCaseは作成しない |

## 6. ビジネス要件（Business Requirement）

| No | 要件 | 説明 |
|---|---|---|
| B-1 | 売上向上 | 新ガチャ機能により売上向上を目指す |
| B-2 | イベント施策 | 期間限定イベントとして実施 |

## 要約

- **機能要件**: 2件
- **非機能要件**: 2件
- **運用要件**: 2件
- **制約条件**: 2件
- **実装要件**: 2件
- **ビジネス要件**: 2件
- **合計**: 12件
```

## ナンバリング規則

各要件にはカテゴリごとのプレフィックス付きナンバーを付与します:

| カテゴリ | プレフィックス | 例 |
|---|---|---|
| 機能要件 | F- | F-1, F-2, F-3... |
| 非機能要件 | NF- | NF-1, NF-2, NF-3... |
| 運用要件 | O- | O-1, O-2, O-3... |
| 制約条件 | C- | C-1, C-2, C-3... |
| 実装要件 | I- | I-1, I-2, I-3... |
| ビジネス要件 | B- | B-1, B-2, B-3... |

## テーブルカラム

### 必須カラム

- **No**: 要件番号（プレフィックス付き）
- **要件**: 要件の簡潔な名称（名詞形）
- **説明**: 要件の詳細説明（1-2文）

### オプショナルカラム

必要に応じて以下のカラムを追加できます:

- **優先度**: 高/中/低
- **備考**: 追加の補足情報
- **関連要件**: 関連する他の要件のNo

**例（オプショナルカラム付き）:**

```markdown
## 1. 機能要件（Functional Requirement）

| No | 要件 | 説明 | 優先度 | 関連要件 |
|---|---|---|---|---|
| F-1 | ガチャを引ける | ユーザーがガチャ機能を利用可能 | 高 | NF-2 |
| F-2 | ミッション達成報酬付与 | ミッション達成時に自動で報酬が付与される | 高 | NF-2, I-1 |
```

## 要約セクション

出力の最後には、カテゴリごとの件数を集計した要約を含めます。

**テンプレート:**

```markdown
## 要約

- **機能要件**: {件数}件
- **非機能要件**: {件数}件
- **運用要件**: {件数}件
- **制約条件**: {件数}件
- **実装要件**: {件数}件
- **ビジネス要件**: {件数}件
- **合計**: {合計件数}件
```

## 補足情報セクション（オプショナル）

必要に応じて、以下のような補足情報セクションを追加できます:

### 分類根拠の説明

特に判断が難しかった要件について、分類の根拠を記載します。

```markdown
## 補足: 分類根拠

### F-1（ガチャを引ける）
- ユーザーの体験が変わるため「機能要件」に分類
- 「設定テーブルで切り替え可能」という記述は「運用要件」として別に分類（O-1）

### NF-2（二重付与防止）
- 体験の内容ではなく「品質・安全性」の話であるため「非機能要件」に分類
```

### 未分類・保留項目

明確に分類できなかった項目や、追加情報が必要な項目をリストアップします。

```markdown
## 未分類・保留項目

- 「できるだけ早く実装したい」→ スケジュール要件（本分類の対象外）
- 「〜の可能性がある」→ 曖昧な記述のため、追加情報が必要
```

## JSON形式（オプショナル）

プログラムで処理する場合のJSON形式:

```json
{
  "functional_requirements": [
    {
      "no": "F-1",
      "name": "ガチャを引ける",
      "description": "ユーザーがガチャ機能を利用可能"
    }
  ],
  "non_functional_requirements": [
    {
      "no": "NF-1",
      "name": "レスポンス時間",
      "description": "APIレスポンスは500ms以内"
    }
  ],
  "operational_requirements": [
    {
      "no": "O-1",
      "name": "設定テーブル制御",
      "description": "機能のON/OFFを設定テーブルで切り替え可能"
    }
  ],
  "constraints": [
    {
      "no": "C-1",
      "name": "既存テーブル使用",
      "description": "既存のuser_itemsテーブルを使用する"
    }
  ],
  "implementation_requirements": [
    {
      "no": "I-1",
      "name": "既存機能流用",
      "description": "既存のRewardUseCaseを流用して実装"
    }
  ],
  "business_requirements": [
    {
      "no": "B-1",
      "name": "売上向上",
      "description": "新ガチャ機能により売上向上を目指す"
    }
  ],
  "summary": {
    "functional_requirements": 1,
    "non_functional_requirements": 1,
    "operational_requirements": 1,
    "constraints": 1,
    "implementation_requirements": 1,
    "business_requirements": 1,
    "total": 6
  }
}
```

## 出力時の注意点

### 1. 見出しレベルを統一

カテゴリ見出しは `## {番号}. {カテゴリ名}` の形式で統一します。

### 2. 空のカテゴリも記載

該当する要件がない場合でも、カテゴリ見出しは記載し「該当なし」と明記します。

```markdown
## 2. 非機能要件（Non-Functional Requirement）

該当なし
```

### 3. 説明は簡潔に

「説明」カラムは1-2文で簡潔に記載します。詳細は別途補足情報セクションに記載します。

### 4. 一貫性を保つ

同じカテゴリ内では、説明の粒度や文体を統一します。
