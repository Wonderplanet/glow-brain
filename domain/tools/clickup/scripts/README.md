# ClickUp タスク対応期間CSV生成スクリプト

## 概要

ClickUpのタスクデータ（raw.json）から、メンバーの専門領域別タスク対応期間をCSV形式で抽出するスクリプトです。

## スクリプト

### `generate_task_duration_csv.sh`

指定されたフォルダ/リストのタスクデータから、以下の情報を含むCSVを生成します：

- 名前
- 専門領域（クライアント、サーバー、UI、アセット、QA等）
- タスクID
- タスク名
- フォルダ名
- リスト名
- 開始日時（ISO 8601形式）
- 終了日時（ISO 8601形式）

## 使い方

```bash
./generate_task_duration_csv.sh '<フォルダ/リストのパス>'
```

### 使用例

```bash
# GLOW(開発)/v1.5.0のCSVを生成
./generate_task_duration_csv.sh 'GLOW(開発)/v1.5.0'

# QA/アプリQA_Ver1.5.0のCSVを生成
./generate_task_duration_csv.sh 'QA/アプリQA_Ver1.5.0'
```

## 入力データ

### 必要なファイル

1. **タスクデータ**: `domain/raw-data/clickup/GLOW/<フォルダ名>/<リスト名>/*/raw.json`
   - ClickUpから取得したタスク情報JSONファイル

2. **メンバー一覧**: `domain/knowledge/project-structure/メンバー一覧.csv`
   - メールアドレスと専門領域のマッピング情報

## 出力先

```
domain/knowledge/project-management/clickup/GLOW/<フォルダ名>/<リスト名>/タスク対応期間.csv
```

## 出力フォーマット

```csv
名前,専門領域,タスクID,タスク名,フォルダ名,リスト名,開始日時,終了日時
瀧島 大地,クライアント,86ev9ubu0,[1.5.0]QA期間,GLOW(開発),v1.5.0,2026-01-08 04:00:00,2026-01-23 04:00:00
水谷 純暉,サーバー,86ev9ucg6,データレイク転送テスト,GLOW(開発),v1.5.0,2026-01-21 04:00:00,2026-01-23 04:00:00
```

## 注意事項

- 担当者が設定されていないタスクはCSVに含まれません
- メンバー一覧に存在しないメールアドレスは「不明」として出力されます
- 開始日時/終了日時がnullの場合は空欄として出力されます
- タスク名やフォルダ名にカンマが含まれる場合は自動的にエスケープされます

## トラブルシューティング

### メンバーが「不明」として表示される

メンバー一覧CSVにメールアドレスが登録されていない可能性があります。スクリプト実行時に警告メッセージで該当するメールアドレスが表示されます。

### 担当者が設定されているタスクが見つからない

指定したフォルダ/リストのraw.jsonファイルに担当者（assignees）が設定されていない可能性があります。ClickUpのタスクデータを確認してください。
