# インゲームマスタデータ設定方法

> 調査日: 2026-02-17
> 参照リリースキー: 202602015
> 参照CSVパス: `domain/raw-data/masterdata/released/{リリースキー}/tables/`

---

## 概要

インゲーム（バトル画面）を構成するマスタデータは、以下の4層で管理されている。

```
MstQuest        : クエスト（コンテンツ入口）
  └─ MstStage   : ステージ（個別バトル設定）
       └─ MstInGame : インゲーム（バトルフィールド全体設定）
            ├─ MstPage / MstKomaLine      : コマ（バトルフィールド地形）
            ├─ MstAutoPlayerSequence      : 敵出現シーケンス
            └─ MstEnemyStageParameter     : 敵パラメータ
```

---

## テーブル一覧（インゲーム設定に関わるもの）

| # | テーブル名 | 役割 |
|---|-----------|------|
| 1 | `MstQuest` | クエスト（バトル入口となるコンテンツグループ） |
| 2 | `MstQuestI18n` | クエストの多言語テキスト |
| 3 | `MstQuestBonusUnit` | クエストのユニットコインボーナス設定 |
| 4 | `MstQuestEventBonusSchedule` | クエストのイベントボーナススケジュール |
| 5 | `MstStage` | ステージ（クエスト内の個別バトル設定） |
| 6 | `MstStageI18n` | ステージの多言語テキスト |
| 7 | `MstStageEventSetting` | ステージのイベント設定（表示期間、クリア回数制限等） |
| 8 | `MstStageEventReward` | ステージのドロップ報酬設定 |
| 9 | `MstStageClearTimeReward` | ステージのクリアタイム報酬設定 |
| 10 | `MstStageEndCondition` | ステージの終了条件設定（レイドなど） |
| 11 | `MstInGame` | インゲーム（バトルフィールド全体設定） |
| 12 | `MstInGameI18n` | インゲームの多言語テキスト（ティップス・説明文） |
| 13 | `MstInGameSpecialRule` | インゲーム特別ルール（スピードアタック、コンティニュー禁止等） |
| 14 | `MstInGameGimmickObject` | バトルギミックオブジェクト設定 |
| 15 | `MstPage` | バトルフィールドのページ（コマのグループ） |
| 16 | `MstKomaLine` | コマライン（各コマの配置・コマ効果設定） |
| 17 | `MstAutoPlayerSequence` | 敵出現シーケンス設定 |
| 18 | `MstEnemyCharacter` | 敵キャラクター基本情報（見た目・アセット） |
| 19 | `MstEnemyCharacterI18n` | 敵キャラクターの多言語テキスト |
| 20 | `MstEnemyOutpost` | 敵の砦（HP・アセット設定） |
| 21 | `MstEnemyStageParameter` | 敵のステージパラメータ（HP・速度・攻撃力等） |

---

## テーブル間リレーション

```
MstQuest
  ├─ [FK] mst_event_id → MstEvent（イベントクエストの場合）
  ├─ [←] MstQuestI18n.mst_quest_id
  ├─ [←] MstQuestBonusUnit.mst_quest_id
  ├─ [←] MstQuestEventBonusSchedule.mst_quest_id
  └─ [←] MstStage.mst_quest_id

MstStage
  ├─ [FK] mst_quest_id → MstQuest
  ├─ [FK] mst_in_game_id → MstInGame
  ├─ [FK] prev_mst_stage_id → MstStage（前提ステージ、解放条件）
  ├─ [FK] mst_artwork_fragment_drop_group_id → MstArtworkFragment（任意）
  ├─ [←] MstStageI18n.mst_stage_id
  ├─ [←] MstStageEventSetting.mst_stage_id
  ├─ [←] MstStageEventReward.mst_stage_id
  ├─ [←] MstStageClearTimeReward.mst_stage_id
  ├─ [←] MstStageEndCondition.mst_stage_id
  └─ [←] MstInGameSpecialRule.target_id（content_type=Stage）

MstInGame
  ├─ [FK] mst_auto_player_sequence_set_id → MstAutoPlayerSequence.sequence_set_id
  ├─ [FK] mst_page_id → MstPage
  ├─ [FK] mst_enemy_outpost_id → MstEnemyOutpost
  ├─ [FK] boss_mst_enemy_stage_parameter_id → MstEnemyStageParameter
  ├─ [FK] mst_defense_target_id → （防衛対象、任意）
  └─ [←] MstInGameI18n.mst_in_game_id

MstPage
  └─ [←] MstKomaLine.mst_page_id

MstAutoPlayerSequence
  ├─ sequence_set_id = MstInGame.id（共通ID体系）
  ├─ [FK] action_value → MstEnemyStageParameter.id（action_type=SummonEnemy時）
  ├─ [FK] action_value → MstInGameGimmickObject.id（action_type=SummonGimmickObject時）
  └─ [FK] priority_sequence_element_id → MstAutoPlayerSequence.id（優先シーケンス）

MstEnemyStageParameter
  ├─ [FK] mst_enemy_character_id → MstEnemyCharacter
  ├─ [FK] mst_unit_ability_id1 → MstUnitAbility（アビリティ/特性）
  └─ [FK] mst_transformation_enemy_stage_parameter_id → MstEnemyStageParameter（変身後）

MstEnemyCharacter
  └─ [FK] mst_series_id → MstSeries（シリーズ）

MstEnemyOutpost
  └─ （アートワークアセット参照のみ）
```

---

## 各テーブルの詳細

### 1. MstQuest（クエスト）

```
ENABLE, id, quest_type, mst_event_id, sort_order, asset_key, start_date, end_date, quest_group, difficulty, release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | クエストID | `quest_event_you1_charaget01` |
| `quest_type` | クエスト種別 | `Normal` / `Event` / `Enhance` / `Tutorial` |
| `mst_event_id` | 紐付くイベントID | `event_you_00001`（Eventタイプのみ） |
| `sort_order` | 表示順 | `1` |
| `asset_key` | アセットキー | `you1_charaget01` |
| `start_date` | 公開開始日時 | `2026-02-02 15:00:00` |
| `end_date` | 公開終了日時 | `2026-03-02 10:59:59` |
| `quest_group` | グループキー（ボーナス参照用） | `event_you1_charaget_dagu` |
| `difficulty` | 難易度 | `Normal` |

---

### 2. MstStage（ステージ）

```
ENABLE, id, mst_quest_id, mst_in_game_id, stage_number, recommended_level, cost_stamina, exp, coin,
prev_mst_stage_id, mst_stage_tips_group_id, auto_lap_type, max_auto_lap_count, sort_order, asset_key,
mst_stage_limit_status_id, release_key, mst_artwork_fragment_drop_group_id, start_at, end_at
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | ステージID | `event_you1_charaget01_00001` |
| `mst_quest_id` | 所属クエストID | `quest_event_you1_charaget01` |
| `mst_in_game_id` | インゲームID | `event_you1_charaget01_00001` |
| `stage_number` | ステージ番号（クエスト内の順番） | `1` |
| `recommended_level` | 推奨レベル | `10` |
| `cost_stamina` | スタミナコスト | `5` |
| `exp` | 獲得EXP | `50` |
| `coin` | 獲得コイン | `100` |
| `prev_mst_stage_id` | 前提ステージID（解放条件） | 空=最初から開放、`event_you1_charaget01_00001`=前ステージクリアで開放 |
| `auto_lap_type` | オートラップ種別 | `__NULL__`（なし）/ `AfterClear`（クリア後） |
| `max_auto_lap_count` | 最大オートラップ回数 | `5` |
| `sort_order` | 表示順 | `1` |
| `asset_key` | アセットキー | `event_you1_00001` |
| `mst_artwork_fragment_drop_group_id` | アートワークかけら ドロップグループID | `event_you_a_0001`（任意） |
| `start_at` / `end_at` | 表示期間 | `2026-02-02 15:00:00` / `2026-03-02 10:59:59` |

---

### 3. MstStageEventSetting（ステージイベント設定）

```
ENABLE, id, mst_stage_id, reset_type, clearable_count, ad_challenge_count, mst_stage_rule_group_id,
start_at, end_at, release_key, background_asset_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | 設定ID（連番） | `183` |
| `mst_stage_id` | 対象ステージID | `event_you1_1day_00001` |
| `reset_type` | リセット種別 | `__NULL__`（なし）/ `Daily`（毎日リセット） |
| `clearable_count` | クリア可能回数 | `1`（1日1回制限） |
| `ad_challenge_count` | 広告によるチャレンジ回数 | `0` |
| `mst_stage_rule_group_id` | ルールグループID | `__NULL__`（特になし） |
| `start_at` / `end_at` | 有効期間 | イベント期間と合わせる |
| `background_asset_key` | 背景アセットキー | `you_00001` |

---

### 4. MstStageEventReward（ステージ報酬）

```
ENABLE, id, mst_stage_id, reward_category, resource_type, resource_id, resource_amount, percentage, sort_order, release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | 報酬ID（連番） | `609` |
| `mst_stage_id` | 対象ステージID | `event_you1_1day_00001` |
| `reward_category` | 報酬カテゴリ | `FirstClear`（初回クリア）/ `Random`（ランダムドロップ） |
| `resource_type` | リソース種別 | `FreeDiamond` / `Coin` / `Item` |
| `resource_id` | リソースID | `prism_glo_00001`（アイテムIDの場合） |
| `resource_amount` | 報酬数量 | `20` |
| `percentage` | ドロップ確率（%） | `100`（確定）/ `50`（50%） |
| `sort_order` | 表示順 | `1` |

---

### 5. MstStageClearTimeReward（クリアタイム報酬）

```
ENABLE, id, mst_stage_id, upper_clear_time_ms, resource_type, resource_id, resource_amount, release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `mst_stage_id` | 対象ステージID | `event_you1_challenge_00001` |
| `upper_clear_time_ms` | クリアタイム上限（ミリ秒） | `140000`（140秒以内） |
| `resource_type` | 報酬リソース種別 | `FreeDiamond` |
| `resource_amount` | 報酬数量 | `20` |

※ チャレンジステージなどタイムアタック要素がある場合に使用

---

### 6. MstStageEndCondition（ステージ終了条件）

```
ENABLE, id, mst_stage_id, stage_end_type, condition_type, condition_value1, condition_value2, release_key
```

| カラム | 説明 | 設定値 |
|--------|------|--------|
| `stage_end_type` | 終了タイプ | `Victory` / `Defeat` / `Finish` |
| `condition_type` | 終了条件 | `TimeOver`（時間切れ）/ `PlayerOutpostBreakDown` / `EnemyOutpostBreakDown` / `DefeatedEnemyCount` / `DefenseTargetBreakDown` |
| `condition_value1` | 条件値1 | `120`（秒、TimeOver時） |

※ 通常ステージはデフォルト（砦破壊）のため省略可。レイドなど特殊終了条件がある場合に設定。

---

### 7. MstInGame（インゲーム設定）

```
ENABLE, id, mst_auto_player_sequence_id, mst_auto_player_sequence_set_id, bgm_asset_key, boss_bgm_asset_key,
loop_background_asset_key, player_outpost_asset_key, mst_page_id, mst_enemy_outpost_id,
mst_defense_target_id, boss_mst_enemy_stage_parameter_id, boss_count,
normal_enemy_hp_coef, normal_enemy_attack_coef, normal_enemy_speed_coef,
boss_enemy_hp_coef, boss_enemy_attack_coef, boss_enemy_speed_coef, release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | インゲームID（ステージIDと同一にすることが多い） | `event_you1_charaget01_00001` |
| `mst_auto_player_sequence_set_id` | 敵出現シーケンスセットID | `event_you1_charaget01_00001`（MstAutoPlayerSequence.sequence_set_idを参照） |
| `bgm_asset_key` | 通常BGMアセットキー | `SSE_SBG_003_001` |
| `boss_bgm_asset_key` | ボスBGMアセットキー | `SSE_SBG_003_004`（ボスあり場合） |
| `loop_background_asset_key` | ループ背景アセットキー | 通常は空 |
| `player_outpost_asset_key` | プレイヤー砦アセットキー | 通常は空（デフォルト使用） |
| `mst_page_id` | ページID（コマフィールド参照） | `event_you1_charaget01_00001` |
| `mst_enemy_outpost_id` | 敵砦ID | `event_you1_charaget01_00001` |
| `boss_mst_enemy_stage_parameter_id` | ボスパラメータID | `c_you_00201_you1_charaget01_Boss_Yellow`（ボスあり場合） |
| `boss_count` | ボス数 | `1`（ボスあり場合）/ 空（ボスなし） |
| `normal_enemy_hp_coef` | 通常敵HP倍率 | `1`（等倍）|
| `normal_enemy_attack_coef` | 通常敵攻撃倍率 | `1` |
| `normal_enemy_speed_coef` | 通常敵速度倍率 | `1` |
| `boss_enemy_hp_coef` | ボス敵HP倍率 | `1` |
| `boss_enemy_attack_coef` | ボス敵攻撃倍率 | `1` |
| `boss_enemy_speed_coef` | ボス敵速度倍率 | `1` |

---

### 8. MstInGameI18n（インゲーム多言語テキスト）

```
ENABLE, release_key, id, mst_in_game_id, language, result_tips, description
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | `{mst_in_game_id}_{language}` 形式 | `event_you1_charaget01_00001_ja` |
| `mst_in_game_id` | 対応インゲームID | `event_you1_charaget01_00001` |
| `language` | 言語コード | `ja` |
| `result_tips` | バトル結果画面のアドバイス | `キャラを強化してみよう!` |
| `description` | バトル前画面の説明文 | 属性情報・コマ効果情報・ギミック情報など |

---

### 9. MstInGameSpecialRule（特別ルール）

```
ENABLE, id, content_type, target_id, rule_type, rule_value, start_at, end_at, release_key
```

| カラム | 説明 | 設定値 |
|--------|------|--------|
| `content_type` | 対象コンテンツ種別 | `Stage` / `AdventBattle` / `Pvp` |
| `target_id` | 対象ID（ステージIDなど） | `event_you1_challenge_00001` |
| `rule_type` | ルール種別 | 下記参照 |
| `rule_value` | ルール値 | `rule_type`依存 |
| `start_at` / `end_at` | 有効期間 | |

**rule_type 一覧:**

| rule_type | rule_value | 説明 |
|-----------|------------|------|
| `SpeedAttack` | 整数(ms) | 制限タイム（例: `1000` = 1000秒） |
| `NoContinue` | `1` | コンティニュー禁止 |
| `TimeLimit` | 整数(秒) | バトル時間制限 |
| `OutpostHp` | 整数 | プレイヤー砦HPの上書き |
| `PartySeries` | シリーズID | 使用可能シリーズ制限（例: `spy`, `mag`） |
| `PartyUnitNum` | 整数 | 使用ユニット数制限 |
| `PartyRarity` | レアリティ値 | レアリティ制限 |
| `PartyColor` | 色名 | 使用可能色制限 |
| `PartyRoleType` | ロール名 | 使用可能ロール制限 |
| `PartySummonCostUpperEqual` | 整数 | 召喚コスト上限 |
| `PartySummonCostLowerEqual` | 整数 | 召喚コスト下限 |
| `UnitStatus` | … | ユニットステータス変更 |

---

### 10. MstPage（ページ）

```
ENABLE, id, release_key
```

| カラム | 説明 |
|--------|------|
| `id` | ページID（MstInGame.mst_page_id から参照） |

※ MstKomaLineを束ねるための親レコード。idのみ持つ。

---

### 11. MstKomaLine（コマライン）

```
ENABLE, id, mst_page_id, row, height,
koma_line_layout_asset_key,
koma1_asset_key, koma1_width, koma1_back_ground_offset, koma1_effect_type, koma1_effect_parameter1, koma1_effect_parameter2, koma1_effect_target_side, koma1_effect_target_colors, koma1_effect_target_roles,
koma2_asset_key, ... （koma2〜koma4も同様）,
release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `mst_page_id` | 所属ページID | `event_you1_charaget01_00001` |
| `row` | 行番号（縦位置） | `1`, `2` |
| `height` | 行の高さ（0〜1の比率） | `0.55` |
| `koma_line_layout_asset_key` | コマレイアウトアセットキー | `1`〜`6`（レイアウト番号） |
| `koma1_asset_key` | コマ1のアセットキー | `you_00004` |
| `koma1_width` | コマ1の幅（0〜1の比率） | `0.4` |
| `koma1_back_ground_offset` | コマ1の背景オフセット | `1` |
| `koma1_effect_type` | コマ効果種別 | `None` / `AttackPowerDown` / `Poison` / `Darkness` 等 |
| `koma1_effect_parameter1` | コマ効果パラメータ1 | 効果量など |
| `koma1_effect_parameter2` | コマ効果パラメータ2 | |
| `koma1_effect_target_side` | 効果対象サイド | `All` / `Player` / `Enemy` |
| `koma1_effect_target_colors` | 効果対象色（カンマ区切り） | `All` / `Red,Blue` 等 |
| `koma1_effect_target_roles` | 効果対象ロール（カンマ区切り） | `All` |

**KomaEffectType 一覧:**
`None` / `AttackPowerUp` / `AttackPowerDown` / `MoveSpeedUp` / `SlipDamage` / `Gust` / `Poison` / `Darkness` / `Burn` / `Stun` / `Freeze` / `Weakening`

---

### 12. MstEnemyOutpost（敵砦）

```
ENABLE, id, hp, is_damage_invalidation, outpost_asset_key, artwork_asset_key, release_key
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | 敵砦ID（MstInGame.mst_enemy_outpost_idから参照） | `event_you1_charaget01_00001` |
| `hp` | 砦HP | `30000` |
| `is_damage_invalidation` | ダメージ無効フラグ | 空（通常）/ `1`（ダメージ無効=レイド砦等） |
| `outpost_asset_key` | 砦アセットキー | 空（デフォルト） |
| `artwork_asset_key` | 背景アートワークアセットキー | `event_you_0001` |

---

### 13. MstEnemyCharacter（敵キャラクター）

```
ENABLE, release_key, id, mst_series_id, asset_key, is_phantomized, is_displayed_encyclopedia, mst_attack_hit_onomatopeia_group_id
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | 敵キャラID | `chara_you_00001` |
| `mst_series_id` | シリーズID | `you` |
| `asset_key` | アセットキー | `chara_you_00001` |
| `is_phantomized` | ファントム化フラグ | `1`（ファントム化済み） |
| `is_displayed_encyclopedia` | 図鑑表示フラグ | `1`（表示）/ `0`（非表示） |

---

### 14. MstEnemyStageParameter（敵ステージパラメータ）

```
ENABLE, release_key, id, mst_enemy_character_id, character_unit_kind, role_type, color, sort_order,
hp, damage_knock_back_count, move_speed, well_distance, attack_power, attack_combo_cycle,
mst_unit_ability_id1, drop_battle_point, mst_transformation_enemy_stage_parameter_id,
transformation_condition_type, transformation_condition_value
```

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | パラメータID（MstAutoPlayerSequence.action_value/MstInGame.boss_mst_enemy_stage_parameter_idから参照） | `c_you_00001_you1_1d1c_Normal_Colorless` |
| `mst_enemy_character_id` | 敵キャラID | `chara_you_00001` |
| `character_unit_kind` | キャラ種別 | `Normal` / `Boss` / `AdventBattleBoss` |
| `role_type` | ロール | `Attack` / `Balance` / `Defense` / `Support` / `Technical` / `Special` |
| `color` | 属性色 | `Colorless`(1) / `Red`(2) / `Blue`(3) / `Yellow`(4) / `Green`(5) |
| `sort_order` | 並び順 | `1` |
| `hp` | HP | `10000` |
| `damage_knock_back_count` | ノックバック回数 | `2`（通常）/ `0`（なし） |
| `move_speed` | 移動速度 | `45` |
| `well_distance` | ウェル距離（攻撃距離） | `0.34` |
| `attack_power` | 攻撃力 | `100` |
| `attack_combo_cycle` | 攻撃コンボサイクル | `6` |
| `mst_unit_ability_id1` | アビリティID1 | 空（なし）/ `ability_xxx` |
| `drop_battle_point` | 撃破時のバトルポイント | `300` |
| `mst_transformation_enemy_stage_parameter_id` | 変身後パラメータID | 空（変身なし） |
| `transformation_condition_type` | 変身条件 | `None` / `HpPercentage` / `StageTime` |
| `transformation_condition_value` | 変身条件値 | `50`（HP50%以下で変身） |

---

### 15. MstAutoPlayerSequence（敵出現シーケンス）

```
ENABLE, id, sequence_set_id, sequence_group_id, sequence_element_id, priority_sequence_element_id,
condition_type, condition_value, action_type, action_value, action_value2,
summon_count, summon_interval, summon_animation_type, summon_position,
move_start_condition_type, move_start_condition_value,
move_stop_condition_type, move_stop_condition_value,
move_restart_condition_type, move_restart_condition_value, move_loop_count,
is_summon_unit_outpost_damage_invalidation, last_boss_trigger, aura_type, death_type,
enemy_hp_coef, enemy_attack_coef, enemy_speed_coef,
override_drop_battle_point, defeated_score, action_delay,
deactivation_condition_type, deactivation_condition_value, release_key
```

**主要カラム説明:**

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `id` | シーケンスID | `event_you1_charaget01_00001_1` |
| `sequence_set_id` | セットID（= MstInGame.idと一致） | `event_you1_charaget01_00001` |
| `sequence_group_id` | グループID（グループ切り替え時に使用） | 空（デフォルトグループ） |
| `sequence_element_id` | 要素ID（同グループ内の連番） | `1`, `2`, `3` |
| `priority_sequence_element_id` | 優先シーケンス要素ID（割り込み用） | 空（通常）|

**condition_type（起動条件）:**

| 値 | 説明 | condition_value |
|----|------|-----------------|
| `InitialSummon` | バトル開始時即時 | `0` |
| `ElapsedTime` | 経過時間（100ms単位） | `250`（2.5秒後） |
| `OutpostDamage` | 敵砦ダメージ値 | |
| `OutpostHpPercentage` | 敵砦HP%以下 | |
| `EnterTargetKomaIndex` | 指定コマ到達時 | |
| `DarknessKomaCleared` | 暗黒コマクリア時 | |
| `FriendUnitDead` | 味方ユニット死亡時 | |
| `SequenceElementActivated` | 他シーケンス起動時 | |
| `ElapsedTimeSinceSequenceGroupActivated` | グループ切り替えからの経過時間 | |

**action_type（アクション）:**

| 値 | 説明 | action_value |
|----|------|-------------|
| `SummonEnemy` | 敵を召喚 | MstEnemyStageParameter.id |
| `SummonPlayerCharacter` | プレイヤーキャラを自動召喚 | MstUnit.id |
| `SwitchSequenceGroup` | シーケンスグループ切り替え | グループID |
| `PlayerSpecialAttack` | プレイヤー必殺技発動 | |
| `SummonGimmickObject` | ギミックオブジェクト召喚 | MstInGameGimmickObject.id |
| `TransformGimmickObjectToEnemy` | ギミック→敵に変換 | |
| `OpponentRush` | 対戦相手ラッシュ | |

**その他の重要カラム:**

| カラム | 説明 | 設定例 |
|--------|------|--------|
| `summon_count` | 召喚数 | `1`〜N |
| `summon_interval` | 召喚間隔（ms） | `1500` |
| `summon_animation_type` | 召喚アニメ | `None` / `Fall0` / `Fall` / `Fall4` |
| `summon_position` | 召喚位置（0〜1） | `1.7`（砦付近）|
| `move_start_condition_type` | 移動開始条件 | `None` / `Damage`（ダメージ受けたら） / `FoeEnterSameKoma` |
| `move_stop_condition_type` | 移動停止条件 | `None` / `ElapsedTime` / `TargetPosition` |
| `aura_type` | オーラ（演出） | `Default` / `Boss` / `AdventBoss1〜3` |
| `death_type` | 死亡演出 | `Normal` / `Escape` |
| `enemy_hp_coef` | 個別HP倍率 | `1.5` |
| `enemy_attack_coef` | 個別攻撃倍率 | `3` |
| `enemy_speed_coef` | 個別速度倍率 | `1` |
| `override_drop_battle_point` | ドロップポイント上書き | `200`（上書き）/ 空（MstEnemyStageParameterの値を使用） |
| `defeated_score` | 撃破スコア（レイド用） | `0`（スコアなし）/ 整数 |
| `is_summon_unit_outpost_damage_invalidation` | 召喚ユニットの砦ダメージ無効フラグ | `0`（通常）/ `1`（ダメージなし） |
| `deactivation_condition_type` | シーケンス無効化条件 | `None` / 他の条件型 |

---

## 新規インゲーム設定の作成手順

### 1. IDの命名規則

インゲーム関連のIDは以下の形式が多い：

```
{コンテンツ種別}_{シリーズID}_{イベント番号}_{ステージ識別}_{連番}
例: event_you1_charaget01_00001
    イベント _ you1 _ charaget01 _ 00001番
```

### 2. 設定作成の流れ

```
Step 1: MstEnemyCharacter 確認/作成
  → 使用する敵キャラが存在するか確認

Step 2: MstEnemyStageParameter 作成
  → 使用する敵のステージ別パラメータを設定
  → ボスの場合は character_unit_kind=Boss

Step 3: MstEnemyOutpost 作成
  → 敵砦のHP・アセットを設定

Step 4: MstPage 作成
  → バトルフィールドのページIDを登録

Step 5: MstKomaLine 作成
  → 各行のコマ配置・コマ効果を設定
  → row=1から順に設定

Step 6: MstAutoPlayerSequence 作成
  → 敵出現スクリプトを設定
  → sequence_set_id = (これから作るMstInGame.id と同一にする)
  → sequence_element_id = 1から連番

Step 7: MstInGame 作成
  → id = sequence_set_id と同一
  → 上記で作成したPage/EnemyOutpost/EnemyStageParameter(ボス)を参照

Step 8: MstStage 作成
  → mst_in_game_id → 上記MstInGame.id
  → mst_quest_id → 所属クエストID

Step 9: MstStageEventSetting 作成
  → ステージの表示期間・クリア回数制限等

Step 10: MstStageEventReward 作成
  → 初回クリア報酬・ドロップ報酬を設定

Step 11: (任意) MstStageClearTimeReward 作成
  → タイムアタック報酬を設定（チャレンジ系）

Step 12: (任意) MstInGameSpecialRule 作成
  → チャレンジ/サベージ系の特別ルール設定

Step 13: MstInGameI18n 作成
  → 説明文・攻略ティップスを記入

Step 14: (新規クエストの場合) MstQuest 作成
  → quest_type, mst_event_id 等を設定
```

---

## 実データ例（202602015: event_you1_charaget01_00001 の全設定）

### クエスト（MstQuest）
```
id: quest_event_you1_charaget01
quest_type: event
mst_event_id: event_you_00001
sort_order: 1
start_date: 2026-02-02 15:00:00
end_date: 2026-03-02 10:59:59
difficulty: Normal
```

### ステージ（MstStage）
```
id: event_you1_charaget01_00001
mst_quest_id: quest_event_you1_charaget01
mst_in_game_id: event_you1_charaget01_00001
stage_number: 1
recommended_level: 10
cost_stamina: 5
exp: 50
coin: 100
prev_mst_stage_id: (なし=最初から開放)
auto_lap_type: AfterClear
max_auto_lap_count: 5
```

### インゲーム（MstInGame）
```
id: event_you1_charaget01_00001
mst_auto_player_sequence_set_id: event_you1_charaget01_00001
bgm_asset_key: SSE_SBG_003_001
boss_bgm_asset_key: SSE_SBG_003_004
mst_page_id: event_you1_charaget01_00001
mst_enemy_outpost_id: event_you1_charaget01_00001
boss_mst_enemy_stage_parameter_id: c_you_00201_you1_charaget01_Boss_Yellow
boss_count: 1
normal_enemy_hp_coef: 1
normal_enemy_attack_coef: 1
normal_enemy_speed_coef: 1
boss_enemy_hp_coef: 1
boss_enemy_attack_coef: 1
boss_enemy_speed_coef: 1
```

### 敵出現シーケンス（MstAutoPlayerSequence）主要行抜粋
```
# ボス: バトル開始時に即出現
sequence_set_id: event_you1_charaget01_00001
sequence_element_id: 1
condition_type: InitialSummon / condition_value: 0
action_type: SummonEnemy / action_value: c_you_00201_you1_charaget01_Boss_Yellow
summon_count: 1
summon_position: 1.7 (砦付近)
move_start_condition_type: Damage / move_start_condition_value: 1 (ダメージを受けたら移動開始)
aura_type: Default / death_type: Normal
enemy_hp_coef: 1.5 / enemy_attack_coef: 3 / enemy_speed_coef: 1

# 通常敵: 500ms後に5体召喚
sequence_element_id: 2
condition_type: ElapsedTime / condition_value: 500
action_type: SummonEnemy / action_value: e_you_00001_you1_charaget01_Normal_Colorless
summon_count: 5 / summon_interval: 1500
```

---

## 注意事項・Tips

1. **IDの一貫性**: `MstInGame.id` = `MstAutoPlayerSequence.sequence_set_id` = `MstStage.mst_in_game_id` は同一IDを使うことが多い

2. **ボスの扱い**: ボスは `MstInGame.boss_mst_enemy_stage_parameter_id` と `MstAutoPlayerSequence`（InitialSummon）の2箇所で設定することが多い

3. **HP倍率**: `MstInGame`のcoef（全体倍率）と`MstAutoPlayerSequence`のenemy_hp_coef（個別倍率）が乗算される

4. **コマ効果の対象**: `koma_effect_target_colors` / `koma_effect_target_roles` は `All` を指定すると全対象。複数指定時は`Red,Blue`のようにカンマ区切り

5. **レイドステージ**: `MstEnemyOutpost.is_damage_invalidation=1` + `MstStageEndCondition(TimeOver)` の組み合わせが典型パターン

6. **チャレンジ/サベージ**: `MstInGameSpecialRule` で `SpeedAttack` + `NoContinue` を設定するのが基本パターン

7. **PartySeries制限**: `MstInGameSpecialRule.rule_type=PartySeries` は1レコード1シリーズのため、複数シリーズを指定する場合は複数レコード追加する
