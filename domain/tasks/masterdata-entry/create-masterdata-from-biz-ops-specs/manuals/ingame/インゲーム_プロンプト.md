# インゲームマスタデータ作成プロンプト

## 作業内容

手順書（インゲーム_マスタデータ設定手順書.md）に従って、
添付したインゲーム設定書からマスタデータを作成してください。
設計書: {ファイル名を指定}

新規リソース情報など、データ作成に必要な追加情報があれば、追加情報ファイルとして追加します。
追加情報ファイル:
- {追加ファイル1}
- {追加ファイル2}

## 入力パラメータ

- release_key: {release_keyを指定}
- mst_series_id: {シリーズIDを指定（例: jig、osh、kai）}
- stage_id: {ステージIDを指定（例: quest_event_jig01_00101）}
- in_game_id: {インゲームIDを指定（例: quest_event_jig01_00101）}

## 出力形式

### 1. マスタデータ

- 手順書の「データ整合性のチェック」を満たしたデータになっていることを必ずチェックし、問題があれば修正完了してから出力する
- Markdown表形式で出力（スプレッドシートへのエクスポート・コピーボタンが正常に表示される形式）
- 以下の7シート（条件付きを含む）を作成:
  1. MstInGame
  2. MstInGameI18n
  3. MstPage（2～3ページ分）
  4. MstKomaLine（ページごとに複数行）
  5. MstInGameSpecialRule（特殊ルールがある場合のみ）
  6. MstInGameSpecialRuleUnitStatus（特殊ルールがある場合のみ）
  7. MstMangaAnimation（マンガアニメーション演出がある場合のみ）

### 2. 推測値レポート（必須）

作成したデータのうち、以下に該当するものを必ずレポートしてください：

- **添付ファイルにも手順書にも記載がなく、推測で決定したID値やパラメータ値**
- 手順書通りに作成したID値は対象外

**レポート形式:**
```
## 推測値レポート

### [テーブル名].[カラム名]
- 値: [設定した値]
- 理由: [推測した根拠]
- 確認事項: [ユーザーが確認すべき内容]
```

**推測値の例**:
- MstKomaLine.effect_type: 設計書に記載なく推測
- MstKomaLine.effect_parameter: 設計書に記載なく推測
- MstInGameSpecialRule.rule_type: 設計書に記載なく推測
- MstMangaAnimation.animation_path: 設計書に記載なく推測

**重要:** このレポートを怠ると、データインポートエラーや本番不具合のリスクが高まります。推測で決定した値は必ず報告してください。

## 注意事項

### ページとコマラインについて

MstPageとMstKomaLineは、ゲームプレイの進行を定義します：
- MstPage: ゲームの各ページ（通常2～3ページで構成）
- MstKomaLine: ページ内の各コマ（1ページあたり複数行）

### コマライン効果について

MstKomaLineの41カラムの中で、以下が重要です：
- effect_type: `Poison`（毒）、`Gust`（突風）、`Burn`（燃焼）、`None`（なし）
- effect_parameter: 効果の強さ（例: ダメージ量、ターン数）
- bgm_path: BGMファイルのパス
- background_path: 背景画像のパス

### 特殊ルールについて

MstInGameSpecialRuleは、通常とは異なるゲームルールを定義します（設計書に記載がある場合のみ作成）：
- rule_type: `SpeedAttack`（速攻）、`NoContinue`（コンティニュー禁止）、`PartySeries`（パーティ制限）、`UnitStatus`（ユニットステータス変更）

### マンガアニメーションについて

MstMangaAnimationは、ゲーム開始前や終了後のマンガ演出を定義します（設計書に記載がある場合のみ作成）：
- animation_path: アニメーションファイルのパス
- trigger_timing: `BeforeStart`（開始前）、`AfterClear`（クリア後）、`AfterFailed`（失敗後）

### I18n設定について

各I18nテーブルは、最低でも日本語（ja）を設定してください。余裕があれば英語（en）、中国語簡体字（zh-CN）、中国語繁体字（zh-TW）も設定してください。

### 外部キー整合性について

以下のリレーションが正しく設定されていることを必ず確認してください：
- MstInGame.mst_stage_id → MstStage.id
- MstPage.mst_in_game_id → MstInGame.id
- MstKomaLine.mst_page_id → MstPage.id
- MstInGameSpecialRule.mst_in_game_id → MstInGame.id
- MstInGameSpecialRuleUnitStatus.mst_in_game_special_rule_id → MstInGameSpecialRule.id
- MstMangaAnimation.mst_in_game_id → MstInGame.id
- すべてのI18nテーブルの親ID → 親テーブルのid
