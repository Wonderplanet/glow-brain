# アイテム・報酬マスタデータ作成プロンプト

## 作業内容

手順書(アイテム・報酬_マスタデータ設定手順書.md)に従って、
添付した運営仕様書・ヒーロー設計書・クエスト設計書からマスタデータを作成してください。

入力ファイル:
- 運営仕様書: {ファイル名を指定}
- ヒーロー設計書: {ファイル名を指定}
- クエスト設計書: {ファイル名を指定}

新規リソース情報など、データ作成に必要な追加情報があれば、追加情報ファイルとして追加します。
追加情報ファイル:
- {追加ファイル1}
- {追加ファイル2}

## 入力パラメータ

- release_key: {release_keyを指定}
- mst_series_id: {シリーズIDを指定(例: jig、osh、kai)}
- event_id: {イベントIDを指定(例: event_jig_00001)}
- event_name: {イベント名を指定(例: 地獄楽 いいジャン祭)}

## 出力形式

### 1. マスタデータ

- 手順書の「データ整合性のチェック」を満たしたデータになっていることを必ずチェックし、問題があれば修正完了してから出力する
- Markdown表形式で出力(スプレッドシートへのエクスポート・コピーボタンが正常に表示される形式)
- 以下の3シートを作成:
  1. MstItem
  2. MstItemI18n
  3. MstMissionReward

### 2. 推測値レポート(必須)

作成したデータのうち、以下に該当するものを必ずレポートしてください:

- **添付ファイルにも手順書にも記載がなく、推測で決定したID値やパラメータ値**
- 手順書通りに作成したID値は対象外

**レポート形式:**
```
## 推測値レポート

### [テーブル名].[カラム名]
- 値: [設定した値]
- 理由: [推測した根拠]
- 確認事項: [ユーザーが確認すべき内容]
```

**推測値の例**:
- MstItem.sort_order: 設計書に記載なく推測
- MstItem.effect_value: キャラIDの対応付けを推測
- MstMissionReward.id: 連番採番の開始番号を推測
- MstMissionReward.sort_order: 設計書に記載なく推測

**重要:** このレポートを怠ると、データインポートエラーや本番不具合のリスクが高まります。推測で決定した値は必ず報告してください。

## 注意事項

### アイテムタイプについて

アイテムのtypeとitem_typeは同じ値を設定してください:
- CharacterFragment: キャラクター欠片
- RankUpMaterial: ランクアップ素材(キャラメモリー)
- Ticket: ガチャチケット
- MemoryFragment: メモリーフラグメント
- Memory: メモリー
- Coin: コイン

### 効果値の設定について

type=RankUpMaterial(キャラメモリー)の場合:
- effect_valueに対応するキャラID(`chara_jig_00601`等)を必ず設定

type=CharacterFragment(キャラ欠片)の場合:
- effect_valueは空欄

### 報酬リソースタイプについて

MstMissionRewardのresource_typeは以下のいずれかを設定してください:
- Item: resource_idにアイテムIDを設定
- Coin: resource_idは空欄
- FreeDiamond: resource_idは空欄
- PaidDiamond: resource_idは空欄
- Stamina: resource_idは空欄
- Experience: resource_idは空欄

### 報酬グループIDについて

MstMissionRewardのgroup_idは以下の命名規則に従ってください:

**イベントログインボーナス**:
```
{event_id}_daily_bonus_{連番2桁}
```

**イベント報酬**:
```
{series_id}_{event_連番5桁}_event_reward_{連番2桁}
```

**期間限定ミッション**:
```
{series_id}_{event_連番5桁}_limited_term_{連番}
```

例:
- event_jig_00001_daily_bonus_01 (地獄楽イベント ログボ1日目)
- jig_00001_event_reward_01 (地獄楽イベント 報酬01)
- jig_00001_limited_term_1 (地獄楽イベント 期間限定ミッション1)

### 日時設定について

- start_date: イベント開始日時を設定(例: `2026-01-16 15:00:00`)
- end_date: 恒久的なアイテムは `2037-12-31 23:59:59`、期間限定アイテムはイベント終了日時を設定

### I18n設定について

MstItemI18nは、最低でも日本語(ja)を設定してください。余裕があれば英語(en)、中国語簡体字(zh-CN)、中国語繁体字(zh-TW)も設定してください。

### 外部キー整合性について

以下のリレーションが正しく設定されていることを必ず確認してください:
- MstItemI18n.mst_item_id → MstItem.id
- MstMissionReward.resource_id (resource_type=Itemの場合) → MstItem.id

### 備考フィールドについて

MstMissionRewardの備考フィールドは任意ですが、報酬の用途を記載すると管理しやすくなります:
- 例: "地獄楽 いいジャン祭 特別ログインボーナス"
- 例: "jigいいジャン祭_ミッション"
- 例: "降臨バトル「まるで 悪夢を見ているようだ」に5回挑戦しよう！"

## アイテム種別ごとの設定例

### キャラクター欠片

```
id: piece_jig_00401
type: CharacterFragment
group_type: Etc
rarity: UR (キャラのレアリティに合わせる)
asset_key: piece_jig_00401
effect_value: (空欄)
item_type: CharacterFragment
```

### キャラメモリー

```
id: memory_chara_jig_00601
type: RankUpMaterial
group_type: Etc
rarity: SR (キャラのレアリティに合わせる)
asset_key: memory_chara_jig_00601
effect_value: chara_jig_00601 (対応するキャラID)
item_type: RankUpMaterial
```

### ガチャチケット

```
id: ticket_glo_00001
type: Ticket
group_type: Etc
rarity: SSR (チケットのレアリティ)
asset_key: ticket_glo_00001
effect_value: (空欄)
item_type: Ticket
```

## 報酬種別ごとの設定例

### アイテム報酬

```
resource_type: Item
resource_id: memory_chara_jig_00701
resource_amount: 200
```

### コイン報酬

```
resource_type: Coin
resource_id: (空欄)
resource_amount: 5000
```

### 無償ダイヤ報酬

```
resource_type: FreeDiamond
resource_id: (空欄)
resource_amount: 40
```
