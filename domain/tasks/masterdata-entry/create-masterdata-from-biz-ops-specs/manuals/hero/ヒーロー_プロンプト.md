# ヒーローマスタデータ作成プロンプト

## 作業内容

手順書（ヒーロー_マスタデータ設定手順書.md）に従って、
添付したヒーロー設計書からマスタデータを作成してください。
ヒーロー設計書: {ファイル名を指定}

新規リソース情報など、データ作成に必要な追加情報があれば、追加情報ファイルとして追加します。
追加情報ファイル:
- {追加ファイル1}
- {追加ファイル2}

## 入力パラメータ

- release_key: {release_keyを指定}
- mst_series_id: {シリーズIDを指定（例: jig、osh、kai）}
- mst_unit_id: {ユニットIDを指定（例: chara_jig_00401）}
- character_name: {キャラクター名を指定（例: 賊王 亜左 弔兵衛）}
- unit_label: {ユニットラベルを指定（例: PremiumUR、DropSR）}
- has_specific_rank_up: {イベント配布キャラの場合は1、ガチャ排出キャラの場合は0}
- is_enemy_character: {敵キャラクターとしても登場する場合は1、しない場合は0}

## 出力形式

### 1. マスタデータ

- 手順書の「データ整合性のチェック」を満たしたデータになっていることを必ずチェックし、問題があれば修正完了してから出力する
- Markdown表形式で出力（スプレッドシートへのエクスポート・コピーボタンが正常に表示される形式）
- 以下の13シート（条件付きを含む）を作成:
  1. MstUnit
  2. MstUnitI18n
  3. MstUnitAbility
  4. MstAbility
  5. MstAbilityI18n
  6. MstAttack（グレード0～9 × 通常攻撃・必殺技 = 20レコード）
  7. MstAttackElement（MstAttackの各レコードに対応）
  8. MstAttackI18n
  9. MstSpecialAttackI18n
  10. MstSpeechBalloonI18n
  11. MstUnitSpecificRankUp（has_specific_rank_up=1の場合のみ）
  12. MstEnemyCharacter（is_enemy_character=1の場合のみ）
  13. MstEnemyCharacterI18n（is_enemy_character=1の場合のみ）

### 2. 推測値レポート（必須）

作成したデータのうち、以下に該当するものを必ずレポートしてください：

- **添付ファイルにも手順書にも記載がなく、推測で決定したID値やパラメータ値**
- 手順書通りに作成したID値は対象外

**レポート形式:**
```
## 推測値レポート

### [テーブル名].[カラム名]
- 値: [設定した値]
- 理由: [推測した根拠]
- 確認事項: [ユーザーが確認すべき内容]
```

**推測値の例**:
- MstUnit.summon_cost: レアリティからの推測値
- MstUnit.summon_cool_time: レアリティからの推測値
- MstUnit.special_attack_initial_cool_time: 設計書に記載なく推測
- MstAttack.action_frames: 設計書に記載なく推測
- MstAttackElement.power_parameter: 設計書に記載なく推測
- MstUnitAbility.ability_parameter1/2/3: 設計書に記載なく推測

**重要:** このレポートを怠ると、データインポートエラーや本番不具合のリスクが高まります。推測で決定した値は必ず報告してください。

## 注意事項

### グレード設定について

MstAttackは以下のように作成してください：
- 通常攻撃（Normal）: グレード0～9の10レコード
- 必殺技（Special）: グレード0～9の10レコード
- 合計20レコード

各MstAttackレコードに対して、MstAttackElementを作成してください。

### MstAttackElementの設定について

MstAttackElementは152カラムの非常に複雑なテーブルです。設計書に記載された値のみを設定し、それ以外は空欄またはデフォルト値を使用してください。

もし設計書に詳細が記載されていない場合は、以下の基本パターンを使用してください：
- attack_type: `Slash`（近接）、`Ranged`（遠距離）、`Impact`（衝撃）
- damage_type: `Physical`（物理）、`Magical`（魔法）、`None`（なし）
- power_parameter: レアリティに応じて設定（UR: 100程度、SSR: 80程度、SR: 60程度）
- effect_type: `Damage`（ダメージ）、`Heal`（回復）、`Buff`（強化）、`None`（なし）

### アビリティパラメータについて

MstUnitAbility.ability_parameter1/2/3は、アビリティの効果値と条件値を設定します：
- ability_parameter1: 効果値（例: 攻撃力UP%、ダメージカット%）
- ability_parameter2: 条件値（例: HP閾値%）
- ability_parameter3: 追加条件（通常は空欄）

例:
- 「HP30%以下の時、攻撃力50%UP」 → parameter1=50、parameter2=30
- 「HP50%以上の時、ダメージ30%カット」 → parameter1=30、parameter2=50

### イベント配布キャラについて

`has_specific_rank_up=1`の場合、MstUnitSpecificRankUpを作成してください：
- rank 1～5の5レコード
- 各ランクに必要なアイテムIDと個数、必要レベルを設定

ガチャ排出キャラ（`has_specific_rank_up=0`）の場合は作成不要です。

### エネミーキャラクターについて

ヒーローが敵キャラクターとしても登場する場合（`is_enemy_character=1`）、MstEnemyCharacterとMstEnemyCharacterI18nを作成してください。

通常のヒーローのみの場合（`is_enemy_character=0`）は作成不要です。

### I18n設定について

各I18nテーブルは、最低でも日本語（ja）を設定してください。余裕があれば英語（en）、中国語簡体字（zh-CN）、中国語繁体字（zh-TW）も設定してください。

### 外部キー整合性について

以下のリレーションが正しく設定されていることを必ず確認してください：
- MstUnit.fragment_mst_item_id → MstItem.id（ガチャ排出キャラの場合）
- MstUnit.mst_unit_ability_id1/2/3 → MstUnitAbility.id
- MstUnitAbility.mst_unit_id → MstUnit.id
- MstUnitAbility.mst_ability_id → MstAbility.id
- MstAttack.mst_unit_id → MstUnit.id
- MstAttackElement.mst_attack_id → MstAttack.id
- すべてのI18nテーブルの親ID → 親テーブルのid
