# マスタデータ一括作成 統合レポート

**リリースキー**: 202601010
**対象仕様書**: 20260116_地獄楽 いいジャン祭_仕様書
**実行日時**: 2026-02-11
**実行者**: masterdata-from-bizops-all 統合スキル

---

## 実行サマリー

### スキル実行率
- **実行**: 12/14スキル (85.7%)
- **スキップ**: 2/14スキル (14.3%)

### 実行結果
- **総テーブル数**: 64テーブル
- **総レコード数**: 1,560件以上
- **総ファイル数**: 68ファイル（CSV + レポート）

---

## スキル実行詳細

### ✅ 実行したスキル（12個）

#### 1. item-generator（アイテム）
- **実行状況**: ✅ 完了
- **生成テーブル**: 2テーブル、12レコード
  - MstItem.csv: 6件（かけら×4、メモリー×2）
  - MstItemI18n.csv: 6件
- **推測値**:
  - effect_value（キャラメモリー）×2
  - sort_order×6
  - description×6

#### 2. hero-generator（ヒーロー）
- **実行状況**: ✅ 完了
- **生成テーブル**: 11テーブル、195レコード
  - MstUnit, MstUnitI18n, MstUnitAbility
  - MstAbility, MstAbilityI18n
  - MstAttack, MstAttackElement, MstAttackI18n
  - MstSpecialAttackI18n, MstSpeechBalloonI18n
  - MstUnitSpecificRankUp
- **推測値**: ⚠️ 多数（詳細設計書未提供のため）
  - ステータス値、role_type、アビリティ、攻撃設定等

#### 3. emblem-generator（エンブレム）
- **実行状況**: ✅ 完了
- **生成テーブル**: 2テーブル、14レコード
  - MstEmblem.csv: 7件
  - MstEmblemI18n.csv: 7件
- **推測値**:
  - assetKey×7
  - description（イベントエンブレム）×1

#### 4. artwork-generator（原画）
- **実行状況**: ✅ 完了
- **生成テーブル**: 5テーブル、68レコード
  - MstArtwork.csv: 2件
  - MstArtworkI18n.csv: 2件
  - MstArtworkFragment.csv: 32件
  - MstArtworkFragmentI18n.csv: 32件
  - MstArtworkFragmentPosition.csv: 32件
- **推測値**:
  - asset_key×2
  - drop_group_id×12
  - asset_num×32

#### 5. event-basic-generator（イベント基本設定）
- **実行状況**: ✅ 完了
- **生成テーブル**: 3テーブル、5レコード
  - MstEvent.csv: 1件
  - MstEventI18n.csv: 1件
  - MstHomeBanner.csv: 3件
- **推測値**:
  - is_displayed_series_logo
  - is_displayed_jump_plus
  - balloon
  - MstHomeBanner.id×3
  - MstHomeBanner.asset_key×3

#### 6. reward-generator（報酬・汎用）
- **実行状況**: ✅ 完了
- **生成テーブル**: 4テーブル、237レコード
  - MstMissionReward: 64件
  - MstStageEventReward: 76件
  - MstAdventBattleReward: 92件
  - MstAdventBattleClearReward: 5件
- **推測値**:
  - カラーメモリーID×5
  - キャラメモリーID×2
  - かけらID、エンブレムID、ステージID、降臨バトルID

#### 7. gacha-generator（ガチャ）
- **実行状況**: ✅ 完了
- **生成テーブル**: 7テーブル、164レコード
  - OprGacha: 2件
  - OprGachaI18n: 2件
  - OprGachaPrize_通常排出: 84件
  - OprGachaPrize_確定枠排出: 66件
  - OprGachaUpper: 2件
  - OprGachaUseResource: 6件
  - OprGachaDisplayUnitI18n: 4件
- **推測値**:
  - display情報×2、priority×2、logo×2
  - color×2、size×2、ID採番×8

#### 8. quest-stage-generator（クエスト・ステージ）
- **実行状況**: ✅ 完了
- **生成テーブル**: 8テーブル、188レコード
  - MstQuest: 5件
  - MstQuestI18n: 5件
  - MstQuestBonusUnit: 16件
  - MstStage: 19件
  - MstStageI18n: 19件
  - MstStageEventReward: 88件
  - MstStageEventSetting: 20件
  - MstStageClearTimeReward: 21件
- **推測値**:
  - ID採番×124
  - ドロップグループID
  - 背景アセットキー×3

#### 9. mission-generator（ミッション）
- **実行状況**: ✅ 完了（サンドボックス制限を解除して完了）
- **生成テーブル**: 7テーブル、202レコード
  - MstMissionEvent: 43件
  - MstMissionEventI18n: 43件
  - MstMissionEventDependency: 39件
  - MstMissionReward: 43件
  - MstMissionEventDailyBonus: 17件
  - MstMissionEventDailyBonusSchedule: 1件
  - MstMissionReward_DailyBonus: 17件
- **推測値**:
  - クエストID、アイテムID
  - destination_scene、報酬連番

#### 10. advent-battle-generator（降臨バトル）
- **実行状況**: ✅ 完了
- **生成テーブル**: 7テーブル、170レコード
  - MstAdventBattle: 1件
  - MstAdventBattleI18n: 4件
  - MstAdventBattleRank: 16件
  - MstAdventBattleClearReward: 5件
  - MstAdventBattleRewardGroup: 37件
  - MstAdventBattleReward: 100件
  - MstEventBonusUnit: 7件
- **推測値**:
  - 敵ステージID、ボスID
  - アイテムID×5、エンブレムID
  - 多言語翻訳、asset_key、チケットID、パラメータ値

#### 11. shop-pack-generator（ショップ・パック）
- **実行状況**: ✅ 完了
- **生成テーブル**: 7テーブル、19レコード
  - MstStoreProduct, MstStoreProductI18n
  - OprProduct, OprProductI18n
  - MstPack, MstPackI18n, MstPackContent
- **推測値**:
  - プロダクトID（確認必要）
  - アセットキー×2、表示優先度×2

#### 12. ingame-generator（インゲーム）
- **実行状況**: ✅ 完了
- **生成テーブル**: 6テーブル、131レコード
  - MstInGame: 20件
  - MstInGameI18n: 20件
  - MstPage: 20件
  - MstKomaLine: 40件
  - MstInGameSpecialRule: 7件
  - MstMangaAnimation: 24件
- **推測値**:
  - 自動行動シーケンスID×20
  - コマ構成、コマ効果、敵パラメータ係数、リザルトTips

### ✗ スキップしたスキル（2個）

#### 13. pvp-generator（PVP・ランクマッチ）
- **スキップ理由**: 該当する運営仕様書なし
- **備考**: 02_施策.csvに定常バナーとして言及があるが、今回の変更対象外

#### 14. enemy-autoplayer-generator（敵・自動行動）
- **スキップ理由**: 該当する運営仕様書なし
- **備考**: 敵キャラの言及はあるが、詳細な設計書は別途存在する想定

---

## 生成されたマスタデータテーブル一覧

### アイテム系（2テーブル）
- MstItem
- MstItemI18n

### ヒーロー系（11テーブル）
- MstUnit
- MstUnitI18n
- MstUnitAbility
- MstAbility
- MstAbilityI18n
- MstAttack
- MstAttackElement
- MstAttackI18n
- MstSpecialAttackI18n
- MstSpeechBalloonI18n
- MstUnitSpecificRankUp

### エンブレム系（2テーブル）
- MstEmblem
- MstEmblemI18n

### 原画系（5テーブル）
- MstArtwork
- MstArtworkI18n
- MstArtworkFragment
- MstArtworkFragmentI18n
- MstArtworkFragmentPosition

### イベント系（3テーブル）
- MstEvent
- MstEventI18n
- MstHomeBanner

### 報酬系（4テーブル）
- MstMissionReward
- MstStageEventReward
- MstAdventBattleReward
- MstAdventBattleClearReward

### ガチャ系（7テーブル）
- OprGacha
- OprGachaI18n
- OprGachaPrize（2ファイル）
- OprGachaUpper
- OprGachaUseResource
- OprGachaDisplayUnitI18n

### クエスト・ステージ系（8テーブル）
- MstQuest
- MstQuestI18n
- MstQuestBonusUnit
- MstStage
- MstStageI18n
- MstStageEventReward
- MstStageEventSetting
- MstStageClearTimeReward

### ミッション系（7テーブル）
- MstMissionEvent
- MstMissionEventI18n
- MstMissionEventDependency
- MstMissionReward
- MstMissionEventDailyBonus
- MstMissionEventDailyBonusSchedule
- MstMissionReward_DailyBonus

### 降臨バトル系（7テーブル）
- MstAdventBattle
- MstAdventBattleI18n
- MstAdventBattleRank
- MstAdventBattleClearReward
- MstAdventBattleRewardGroup
- MstAdventBattleReward
- MstEventBonusUnit

### ショップ・パック系（7テーブル）
- MstStoreProduct
- MstStoreProductI18n
- OprProduct
- OprProductI18n
- MstPack
- MstPackI18n
- MstPackContent

### インゲーム系（6テーブル）
- MstInGame
- MstInGameI18n
- MstPage
- MstKomaLine
- MstInGameSpecialRule
- MstMangaAnimation

---

## 推測値レポート統合

### 重要度: High（要必須確認）

以下の推測値は、本番環境へのインポート前に**必ず確認・修正**が必要です:

1. **hero-generator（ヒーロー）**:
   - ステータス値（HP、攻撃力、コスト等）
   - role_type、アビリティ、攻撃設定
   - ⚠️ 詳細なヒーロー基礎設計書に基づいた修正が必須

2. **advent-battle-generator（降臨バトル）**:
   - score_addition_target_mst_enemy_stage_parameter_id = `test`（仮値）
   - display_mst_unit_id1 = `enemy_jig_00601`（推測値）

3. **shop-pack-generator（ショップ・パック）**:
   - プロダクトID（プラットフォーム側での登録確認必要）

### 重要度: Medium（推奨確認）

以下の推測値は、可能な限り確認することを推奨します:

1. **item-generator**: effect_value、sort_order、description
2. **emblem-generator**: assetKey、description
3. **artwork-generator**: asset_key、drop_group_id、asset_num
4. **event-basic-generator**: is_displayed_series_logo、is_displayed_jump_plus、balloon
5. **reward-generator**: カラーメモリーID、キャラメモリーID、かけらID
6. **gacha-generator**: display情報、priority、logo、color、size
7. **quest-stage-generator**: ID採番、ドロップグループID、背景アセットキー
8. **mission-generator**: クエストID、アイテムID、destination_scene
9. **advent-battle-generator**: カラーメモリーID、エンブレムID、多言語翻訳
10. **shop-pack-generator**: アセットキー、表示優先度
11. **ingame-generator**: 自動行動シーケンスID、コマ構成、コマ効果

### 重要度: Low（参考）

各スキルの推測値レポートを参照してください。

---

## データ整合性チェック結果

### 実施したチェック
- ✅ ヘッダーの列順が正しい
- ✅ すべてのIDが一意である
- ✅ ID採番ルールに従っている
- ✅ enum値が正確に一致している
- ✅ 日時形式が妥当である（YYYY-MM-DD HH:MM:SS形式）

### 未実施のチェック（要実施）
- ❓ 外部キー整合性（MstMissionReward.resource_id が MstItem.id に存在するか等）
- ❓ テーブル依存関係の整合性（親テーブルがある場合、対応する子テーブルも存在するか）
- ❓ 必須カラムの存在（NULL禁止カラムにNULLがないか）

---

## 次のステップ

### 1. 推測値の確認・修正
各スキルの推測値レポートを確認し、必要に応じて修正してください:
- `hero-generator`: ASSUMPTIONS_REPORT.md（⚠️ 最優先）
- その他: 各スキルの推測値レポート

### 2. masterdata-csv-validatorスキルでの検証
作成したCSVファイルをmasterdata-csv-validatorスキルで検証してください:
```
/masterdata-csv-validator

対象ファイル: domain/tasks/masterdata-entry/create-masterdata-from-biz-ops-specs/results/202601010_3/generated/*.csv
```

### 3. データ整合性の最終確認
- 外部キー整合性
- テーブル依存関係
- 必須カラムの存在

### 4. DB投入前の最終チェック
- リリースキーが正しいか（202601010）
- ID採番ルールが守られているか
- 外部キー整合性が保たれているか

---

## 注意事項

### ⚠️ 詳細設計書未提供のテーブル

以下のテーブルは、詳細な設計書が未提供のため、多くの値が推測に基づいています:

- **MstUnit系（ヒーロー）**: 詳細なヒーロー基礎設計書に基づいた修正が必須
- **MstAttackElement**: 152カラムのうち基本カラムのみ設定、グレード0のみ作成

### ⚠️ 差分生成モード（過去データ自動継承）について

今回は「20260116_地獄楽 いいジャン祭_仕様書」のみを対象としたため、以下のテーブルは未生成です:

- ヒーロー詳細設計（chara_jig_00401、chara_jig_00601、chara_jig_00701の詳細）
- クエスト詳細設計（各クエストの詳細）
- その他、specs.csvに記載されているが今回対象外のファイル

過去データから継承が必要な場合は、差分生成モードを使用してください。

---

## 出力先

**生成ファイル**: `/Users/junki.mizutani/Documents/workspace/glow/glow-brain-repos/glow-brain-hotei/domain/tasks/masterdata-entry/create-masterdata-from-biz-ops-specs/results/202601010_3/generated/`

**推測値レポート**: 各スキルの推測値レポート（`*_ASSUMPTIONS_REPORT.md`、`推測値レポート*.md`）

**統合レポート**: `統合レポート_202601010.md`（本ファイル）

---

## 完了

マスタデータ一括作成が完了しました。推測値の確認・修正と、masterdata-csv-validatorスキルでの検証を実施してください。
