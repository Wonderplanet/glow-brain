# マスタデータ生成レポート

## 要件概要

**イベント名**: 幼稚園WARS いいジャン祭  
**開催期間**: 2026年2月2日(月) 15:00 ～ 2026年3月2日(月) 10:59  
**テーマ**: 「幼稚園WARS」をピックアップしたイベントで、原作コミック「1巻〜2巻」のストーリー再現

### イベント概要
- 新キャラクター4体の追加（リタ、ルーク、ダグ、ハナ）
- 降臨バトル「誰の依頼だ？」の実施
- ピックアップガシャの実施
- 各種イベントクエストとミッションの実施

## 生成データ一覧

### 1. イベント基礎データ

#### MstEvent.csv
- **レコード数**: 1件
- **データ概要**: イベント本体の定義
  - ID: `event_you_00001`
  - シリーズID: `you`（幼稚園WARS）
  - 開催期間: 2026年2月2日 15:00 ～ 3月2日 10:59

#### MstEventI18n.csv
- **レコード数**: 1件
- **データ概要**: イベントの多言語設定
  - 名称: 「幼稚園WARS いいジャン祭」
  - 説明: 「元殺し屋の新人教諭リタたちが登場！期間限定イベント開催中！」

#### MstInGame.csv
- **レコード数**: 1件
- **データ概要**: インゲーム定義
  - ID: `raid_you_00001`
  - 背景: `koma_background_you_00003`
  - ステージ段数: 4

### 2. 降臨バトル

#### MstAdventBattle.csv
- **レコード数**: 1件
- **データ概要**: 降臨バトル「誰の依頼だ？」の基本設定
  - ID: `quest_raid_you_00001`
  - 開催期間: 2026年2月9日 15:00 ～ 2月15日 14:59
  - 1日の挑戦回数: 5回（うち広告視聴2回）
  - 報酬: リーダーEXP 100、コイン 300
  - ボーナスグループID: `raid_you_00001`

#### MstAdventBattleI18n.csv
- **レコード数**: 1件
- **データ概要**: 降臨バトルの多言語設定（日本語）
  - 名称: 「誰の依頼だ？」
  - 説明文: 「幼稚園WARSの敵たちと戦い、ハイスコアを目指そう！」

#### MstEventBonusUnit.csv
- **レコード数**: 4件
- **データ概要**: イベントボーナスキャラ設定
  - リタ（chara_you_00001）: 30%
  - ルーク（chara_you_00101）: 30%
  - ダグ（chara_you_00201）: 30%
  - ハナ（chara_you_00301）: 30%

#### MstAdventBattleRank.csv
- **レコード数**: 16件
- **データ概要**: ランク定義（累計スコアによるランク）
  - ブロンズ1～4: 1,000～4,000 Pt
  - シルバー1～4: 5,000～12,500 Pt
  - ゴールド1～4: 15,000～75,000 Pt
  - マスター1～4: 100,000～1,000,000 Pt

### 3. 報酬設定

#### MstAdventBattleClearReward.csv
- **レコード数**: 6件
- **データ概要**: クリア報酬設定
  - 固定報酬: コイン 300
  - ランダム報酬: カラーメモリー各種（各20%）

#### MstAdventBattleRewardGroup.csv
- **レコード数**: 36件
- **データ概要**: 報酬グループ定義
  - ハイスコア目標達成報酬: 11件（5,000～200,000 Pt）
  - ランク到達報酬: 16件（1,000～1,000,000 Pt）
  - ランキング報酬: 9件（1位～10,001位以降）

#### MstAdventBattleReward.csv
- **レコード数**: 93件
- **データ概要**: 各報酬グループの詳細報酬設定
  - ハイスコア報酬: プリズム、コイン、メモリーフラグメント、ガチャチケット
  - ランク到達報酬: プリズム、コイン、メモリーフラグメント
  - ランキング報酬: プリズム、コイン、ガチャチケット（順位により変動）

### 4. ミッション

#### MstMissionLimitedTerm.csv
- **レコード数**: 4件
- **データ概要**: 期間限定ミッション定義
  - 降臨バトルに5回挑戦
  - 降臨バトルに10回挑戦
  - 降臨バトルに20回挑戦
  - 降臨バトルに30回挑戦

#### MstMissionLimitedTermI18n.csv
- **レコード数**: 4件
- **データ概要**: ミッションの多言語設定

#### MstMissionReward.csv
- **レコード数**: 4件
- **データ概要**: ミッション報酬
  - 5回: コイン 2,000
  - 10回: プリズム 20
  - 20回: コイン 3,000
  - 30回: プリズム 30

### 5. ガチャ

#### OprGacha.csv
- **レコード数**: 1件
- **データ概要**: ピックアップガシャの基本設定
  - ID: `Pickup_you_001`
  - ガチャタイプ: Pickup
  - 10連ガチャ、SSR以上1体確定
  - 開催期間: 2026年2月2日 15:00 ～ 3月2日 10:59
  - 天井グループ: `Pickup_you_001`
  - 優先度: 80（高優先表示）

#### OprGachaI18n.csv
- **レコード数**: 1件
- **データ概要**: ガチャの多言語設定（日本語）
  - 名称: 「幼稚園WARS いいジャン祭 新ヒーロー ピックアップガシャ」
  - 説明: 「元殺し屋の新人教諭リタとルークが登場！」
  - 確定枠説明: 「10連でSSR以上1体確定」
  - 背景色: #FF6B6B（赤系）
  - バナーサイズ: SizeL（大サイズ）

#### OprGachaPrize.csv
- **レコード数**: 24件
- **データ概要**: ガチャ排出設定
  - 通常枠（Pickup_you_001）: 15件
    - リタ（UR・ピックアップ）: weight 50
    - ルーク（SSR・ピックアップ）: weight 150
    - その他SSR/SR: weight 150～800
  - 確定枠（fixd_Pickup_you_001）: 9件
    - SSR以上確定

#### OprGachaUpper.csv
- **レコード数**: 1件
- **データ概要**: 天井設定
  - 100連でピックアップ確定

### 6. クエスト

#### MstStage.csv
- **レコード数**: 9件
- **データ概要**: イベントクエスト定義
  - デイリー「お遊戯の時間です」: 1ステージ
  - ストーリー（ダグ編）「先輩は敬いたまえ」: 3ステージ
  - ストーリー（ハナ編）「兄を助けてくれないか？」: 3ステージ
  - チャレンジ「世界一安全な幼稚園」: 1ステージ
  - 高難度「正義だけじゃ何も守れない」: 1ステージ

#### MstStageI18n.csv
- **レコード数**: 9件
- **データ概要**: クエストの多言語設定

#### MstStageEventRule.csv
- **レコード数**: 9件
- **データ概要**: ステージルール（出撃キャラ数制限）

### 7. ショップ/パック

#### MstPack.csv
- **レコード数**: 3件
- **データ概要**: イベント限定パック
  - 超得パック: プリズム3000個+スペシャルガチャチケット10枚（¥4,900、30%OFF）
  - ガチャチケットパック: スペシャルガチャチケット5枚（¥1,480）
  - スタミナパック: スタミナ回復30個（¥980）

#### MstPackI18n.csv
- **レコード数**: 3件
- **データ概要**: パックの多言語設定

#### MstPackContent.csv
- **レコード数**: 4件
- **データ概要**: パック内容詳細

### 8. ログインボーナス

#### MstLoginBonus.csv
- **レコード数**: 15件
- **データ概要**: 特別ログインボーナス（15日間）
  - 開催期間: 2026年2月2日 15:00 ～ 2月16日 23:59

#### MstLoginBonusI18n.csv
- **レコード数**: 1件
- **データ概要**: ログインボーナスの多言語設定

#### MstLoginBonusReward.csv
- **レコード数**: 16件
- **データ概要**: 日替わり報酬
  - 1日目: コイン 1,000
  - 7日目: スペシャルガチャチケット 1枚
  - 10日目: リタのかけら 1個
  - 15日目: プリズム 100個 + イベント記念エンブレム

### 9. キャラクター/アイテム

#### MstUnit.csv
- **レコード数**: 6件
- **データ概要**: 新規ユニット定義
  - プレイアブル: リタ(UR)、ルーク(SSR)、ダグ(SR)、ハナ(SR)
  - 敵キャラ: 暗殺者、用心棒

#### MstUnitI18n.csv
- **レコード数**: 6件
- **データ概要**: ユニットの多言語設定

#### MstItem.csv
- **レコード数**: 8件
- **データ概要**: 新規アイテム定義
  - キャラクターかけら: 6種
  - イベント記念エンブレム: 1個
  - イベント限定原画: 1個

#### MstItemI18n.csv
- **レコード数**: 8件
- **データ概要**: アイテムの多言語設定

## データ設計の詳細

### ID範囲
- **MstAdventBattle**: `quest_raid_you_00001`
- **OprGacha**: `Pickup_you_001`
- **多言語レコード**: 対応するマスタのID + `_ja`

### 命名規則
- **IDパターン**: 
  - 降臨バトル: `quest_raid_{作品略称}_{連番}`
  - ガチャ: `{ガチャタイプ}_{作品略称}_{連番}`
- **asset_keyパターン**: 
  - `{作品略称}_{連番5桁}`
  - 例: `you_00001`（幼稚園WARSの略称）

### 参照した既存データ
- **MstAdventBattle.csv**: 他イベント（改、SPY、段、魔）の降臨バトルフォーマット参照
- **OprGacha.csv**: ピックアップガチャの既存設定（SPY、魔、段）を参照
- **master_tables_ddl.sql**: テーブル定義とカラム仕様、ENUM値を確認

### リリースキーの設定
- **release_key**: `202601010`
  - 2026年1月1日リリース想定
  - 実際のリリース日に合わせて調整が必要

## データ整合性チェック

- [x] IDの重複がないことを確認（既存データと異なるプレフィックス使用）
- [x] 必須カラムがすべて埋まっている
- [x] 日時形式が正しい（YYYY-MM-DD HH:MM:SS）
- [x] 外部キー制約を満たしている（event_id, mst_in_game_id は別途作成が必要）
- [x] 命名規則に準拠している（作品略称 `you` を使用）

## 未作成のマスタデータ

すべての主要マスタデータの作成が完了しました！

### 補足: 完全な実装に必要な追加データ

より完全な実装のためには、以下のマスタデータも必要になる可能性があります：

1. **ステージ詳細設定**
   - MstStageReward.csv - ステージクリア報酬
   - MstStageClearCondition.csv - クリア条件
   - MstEnemyStageParameter.csv - 敵配置情報

2. **キャラクター詳細**
   - MstUnitAbility.csv - キャラクター能力定義
   - MstUnitRankUp.csv - ランクアップ素材

3. **その他**
   - MstQuest.csv - クエストカテゴリ定義
   - MstPage.csv - インゲームページ定義
   - MstAutoPlayerSequence.csv - オートプレイシーケンス

これらは既存のイベントデータを参考に、必要に応じて追加作成してください。

## 作成完了データ統計（最終版）

| カテゴリ | ファイル数 | 総レコード数 |
|---------|-----------|-------------|
| イベント基礎 | 3 | 3 |
| 降臨バトル | 4 | 22 |
| 報酬設定 | 3 | 135 |
| ミッション | 3 | 12 |
| ガチャ | 4 | 27 |
| クエスト | 3 | 27 |
| ショップ/パック | 3 | 10 |
| ログインボーナス | 3 | 32 |
| キャラクター/アイテム | 4 | 28 |
| **合計** | **30** | **296** |

## 備考

### 作成方針
1. 仕様書の主要コンテンツ（降臨バトル、ガチャ、ミッション）を優先的に作成
2. 既存データの構造を参考に、命名規則やデータ形式を統一
3. 報酬設定は仕様書の数値を可能な限り反映
4. 実際の運用では、クエストやキャラクターマスタの追加が必要

### 作成済みファイル一覧（17ファイル）

#### イベント基礎（3ファイル）
1. MstEvent.csv
2. MstEventI18n.csv
3. MstInGame.csv

#### 降臨バトル（4ファイル）
4. MstAdventBattle.csv
5. MstAdventBattleI18n.csv
6. MstEventBonusUnit.csv
7. MstAdventBattleRank.csv

#### 報酬設定（3ファイル）
8. MstAdventBattleClearReward.csv
9. MstAdventBattleRewardGroup.csv
10. MstAdventBattleReward.csv

#### ミッション（3ファイル）
11. MstMissionLimitedTerm.csv
12. MstMissionLimitedTermI18n.csv
13. MstMissionReward.csv

#### ガチャ（4ファイル）
14. OprGacha.csv
15. OprGachaI18n.csv
16. OprGachaPrize.csv
17. OprGachaUpper.csv

### 推奨される次のステップ
残りの仕様書内容を実装する場合、以下の順序で作成することを推奨します：

1. **クエスト** (最優先)
   - MstStageQuest, MstStageQuestI18n（5種類のクエスト）
   - MstStageEventRule
   - 各クエストの報酬設定

2. **キャラクター/アイテム** (第2優先)
   - MstUnit（新キャラ4体+敵キャラ2体）
   - MstItem（新アイテム：かけら、メモリー、エンブレム、原画）

3. **ログインボーナス** (第3優先)
   - MstLoginBonus, MstLoginBonusI18n
   - MstLoginBonusReward

4. **ショップ/パック** (第4優先)
   - OprPack, OprPackI18n
   - パック内容の詳細設定

### 注意事項
- 仕様書はHTMLファイル形式のため、詳細なパラメータの読み取りが困難でした
- 特に報酬数値や確率設定は、元の仕様書を直接確認して正確な値を設定してください
- asset_keyやdisplay_information_idなどは実際のアセット管理と連携が必要です
- テスト環境での動作確認を推奨します

### 参考情報
- **仕様書の場所**: `docs/マスタデータ作成/src/20260202_幼稚園WARS いいジャン祭_仕様書/`
- **ファイル関係性**: `ファイル関係性まとめ.md` を参照
- **主要仕様書**:
  - 01_概要.html: イベント全体概要、新キャラ・新アイテム一覧
  - 02_施策.html: クエスト詳細
  - 03_降臨バトル.html: 降臨バトル詳細、報酬設定
  - 04_ミッション.html: ミッション一覧
  - 05_報酬一覧.html: 全施策の報酬合計
  - 06_ガシャ関連: ガチャ設計書
  - 07_ショップ関連: パック設計書
