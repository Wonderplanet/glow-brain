# コンテンツ一覧の作成手順

このドキュメントは、`コンテンツ一覧.md` を作成した手順を記録したものです。

---

## 🎯 目的

画面一覧（150画面）とマスターデータから、GLOWゲームの全コンテンツを体系的に整理したドキュメントを作成する。

---

## 📝 作成手順

### ステップ1: 既存ドキュメントの確認

**実施内容:**
- `docs/機能一覧/画面一覧/画面一覧.md` を確認
- 150画面の一覧から、主要なコンテンツカテゴリを把握

**使用コマンド:**
```bash
# 画面一覧ファイルの読み込み（既に読み込まれていた）
cat docs/機能一覧/画面一覧/画面一覧.md
```

**得られた情報:**
- 総画面数: 150画面
- 画面カテゴリの傾向:
  - バトル系（AdventBattle, PvP, InGame, BattleResult等）
  - ガチャ系（Gacha関連画面群）
  - ユニット管理系（UnitList, UnitDetail, UnitEnhance等）
  - ショップ系（Shop, PackShop, PassShop, ExchangeShop）
  - ミッション系（Mission, EventMission, BeginnerMission）
  - 図鑑系（Encyclopedia関連）
  - その他システム画面

### ステップ2: 追加情報の収集

**実施内容:**
マスターデータとドキュメントを並行して確認し、より詳細な情報を収集

**使用コマンド:**
```bash
# ドキュメントファイルの検索
find docs -type f -name "*.md" | head -30

# マスターデータCSVファイルの確認
ls projects/glow-masterdata/*.csv | wc -l
# 結果: 165ファイル

# マスターデータテーブル名の抽出
ls projects/glow-masterdata/*.csv | \
  sed 's/.*\///' | \
  sed 's/\.csv$//' | \
  sort | uniq | \
  grep -E "^Mst" | \
  sed 's/Mst//' | \
  sed 's/I18n$//' | \
  sort | uniq
```

**得られた情報:**
- マスターデータCSV総数: 165ファイル
- マスターデータテーブル数: 約120種類（I18n除く）
- 主要テーブル:
  - `MstQuest`, `MstStage` (クエスト・ステージ)
  - `MstAdventBattle` (降臨バトル)
  - `MstPvp`, `MstPvpRank` (PvP)
  - `MstUnit`, `MstUnitLevelUp`, `MstUnitGradeUp`, `MstUnitRankUp` (ユニット育成)
  - `MstMissionXXX` (各種ミッション: Daily, Weekly, Event, Beginner, Achievement, LimitedTerm)
  - `MstFragmentBox`, `MstArtworkFragment` (ガチャ・フラグメント)
  - `MstShopItem`, `MstPack`, `MstShopPass`, `MstExchange` (ショップ4種)
  - `MstOutpost`, `MstOutpostEnhancement` (前哨基地)
  - `MstIdleIncentive` (アイドルインセンティブ)
  - `MstArtwork`, `MstEmblem` (コレクション)
  - `MstEncyclopedia` 関連 (図鑑)

### ステップ3: コンテンツの分類と整理

**分析アプローチ:**
1. **画面名の接頭辞から機能を推測**
   - `Advent*` → 降臨バトル
   - `Pvp*` → PvP/決闘
   - `Gacha*` → ガチャシステム
   - `Unit*` → ユニット管理
   - `Mission*` → ミッション
   - `Encyclopedia*` → 図鑑
   - `Shop*`, `Pack*`, `Pass*`, `Exchange*` → ショップ系

2. **マスターデータテーブル名から機能を補完**
   - テーブル名の構造: `Mst{機能名}{詳細}[I18n]`
   - 関連テーブルのグルーピング
   - 多言語対応テーブル（I18n）の存在確認

3. **画面とマスターデータの対応付け**
   - 画面名とテーブル名の命名規則から対応を推測
   - 例: `AdventBattle` 画面群 ↔ `MstAdventBattle*` テーブル群

**整理したコンテンツカテゴリ（35種類）:**
1. バトル・クエスト系 (5種類)
   - 通常クエスト
   - 降臨バトル
   - 強化クエスト
   - イベントクエスト
   - PvP/決闘

2. キャラクター管理 (2種類)
   - キャラクターシステム
   - パーティ編成

3. ガチャ・入手系 (2種類)
   - ガチャシステム
   - フラグメントシステム

4. ショップ・課金系 (4種類)
   - 通常ショップ
   - パックショップ
   - パスショップ
   - 交換ショップ

5. ミッション系 (1種類、6サブタイプ)
   - 各種ミッション（デイリー、ウィークリー、イベント、ビギナー、達成、期間限定）

6. コレクション・図鑑 (3種類)
   - 図鑑システム
   - アートワークシステム
   - エンブレムシステム

7. 育成・強化系 (2種類)
   - ゲート（前哨基地）
   - 探索（アイドルインセンティブ）

8. ボーナス・特典系 (1種類、3サブタイプ)
   - デイリーボーナス、カムバックボーナス、ユーザーレベルアップボーナス

9. 通貨・アイテム管理 (2種類)
   - アイテムシステム
   - スタミナシステム

10. システム・UI (6種類)
    - ホーム画面、メッセージBOX、ユーザープロフィール、コミュニティ、お知らせ、ゲームモード選択

11. システム機能 (5種類)
    - チュートリアル、リトライ・リザルト、アカウント管理、設定・その他、アセット管理

12. 演出・ビジュアル (2種類)
    - バトル演出、タイトル・スプラッシュ

### ステップ4: Markdownドキュメントの作成

**ドキュメント構成:**
```markdown
# GLOWゲーム コンテンツ一覧

## 各コンテンツカテゴリ
### N. コンテンツ名
- 機能説明（箇条書き）
- **画面**: 関連画面のリスト
- **マスターデータ**: 関連テーブルのリスト

## 📊 統計情報
## 🎯 ゲームの特徴
## 関連ドキュメント
```

**使用コマンド:**
```bash
# ファイルの配置場所を確認
ls -la docs/機能一覧/

# コンテンツ一覧ファイルの作成
# Write tool を使用して docs/機能一覧/コンテンツ一覧.md を作成
```

### ステップ5: 用語の統一

**修正内容:**
プロジェクト内での正式な呼称に合わせて用語を統一

**使用コマンド:**
```bash
# 修正前の用語確認
grep -n "ユニット" docs/機能一覧/コンテンツ一覧.md
grep -n "前哨基地\|アイドルインセンティブ" docs/機能一覧/コンテンツ一覧.md
```

**用語の置き換え（Edit tool使用）:**
1. `ユニット` → `キャラクター`
   - ユニットシステム → キャラクターシステム
   - ユニット図鑑 → キャラクター図鑑
   - 敵ユニット → 敵キャラクター
   - ボーナスユニット → ボーナスキャラクター
   - パーティユニット数制限 → パーティ編成数制限

2. `前哨基地` → `ゲート`
   - 前哨基地強化 → ゲート強化
   - 基地強化システム → ゲート強化システム

3. `アイドルインセンティブ` → `探索`
   - インセンティブアイテム → 探索アイテム

**検証:**
```bash
# 修正後の確認（ヒットなし = 修正完了）
grep -n "ユニット" docs/機能一覧/コンテンツ一覧.md
grep -n "前哨基地\|アイドルインセンティブ" docs/機能一覧/コンテンツ一覧.md
```

---

## 🔑 ポイント

### 1. 情報源の組み合わせ

**画面一覧から:**
- ユーザーが実際に操作する機能の全体像
- UI/UXの流れ
- 画面の命名規則からの機能推測

**マスターデータから:**
- データ構造の詳細
- 機能の実装範囲
- 関連機能のグルーピング

**相互補完:**
- 画面一覧だけでは見えない内部構造をマスターデータで補完
- マスターデータだけでは分からないユーザー体験を画面一覧で補完

### 2. 命名規則の活用

**画面名のパターン:**
- `{機能名}{詳細}`: 例: `AdventBattle`, `GachaList`
- `{機能名}{動作}`: 例: `UnitEnhance`, `OutpostEnhance`
- `{機能名}{種類}Dialog/Window`: 例: `GachaConfirm`, `AccountBanDialog`

**マスターデータのパターン:**
- `Mst{機能名}`: 基本データ
- `Mst{機能名}{詳細}`: 詳細データ
- `Mst{機能名}I18n`: 多言語対応データ

### 3. 体系的な整理

**階層構造:**
1. 大カテゴリ（例: バトル・クエスト系）
2. 中カテゴリ（例: 降臨バトル）
3. 機能詳細（箇条書き）
4. 関連リソース（画面、マスターデータ）

**一貫性:**
- 全てのコンテンツで同じフォーマットを使用
- 画面とマスターデータを必ず記載
- 絵文字で視認性を向上

### 4. ドキュメント品質の確保

**完全性:**
- 150画面すべてを分類に含める
- 主要なマスターデータテーブルを網羅

**正確性:**
- プロジェクト内の正式用語を使用（ユニット→キャラクター等）
- 推測と確定情報を区別

**有用性:**
- 統計情報を追加（画面数、テーブル数等）
- ゲームの特徴をサマリー
- 関連ドキュメントへのリンク

---

## 📊 成果物

**作成されたファイル:**
- `docs/機能一覧/コンテンツ一覧.md`: メインドキュメント

**ドキュメントの特徴:**
- **網羅性**: 150画面、165マスターデータテーブルを35カテゴリに整理
- **構造化**: 階層的な分類と一貫したフォーマット
- **関連付け**: 各コンテンツに対応する画面とマスターデータを明記
- **可読性**: 絵文字、見出し、箇条書きによる視認性の向上
- **正確性**: プロジェクト内の正式用語に統一

**統計情報:**
- 総画面数: 150画面
- マスターデータCSV数: 165ファイル
- マスターデータテーブル数: 約120種類（I18n除く）
- コンテンツカテゴリ数: 35種類
- ミッション種類: 6種類
- バトルモード: 5種類
- ショップタイプ: 4種類

---

## 🔄 今後の活用

### 活用シーン

1. **新機能の企画・設計時**
   - 既存コンテンツとの重複確認
   - 関連機能の洗い出し
   - マスターデータ設計の参考

2. **ドキュメント作成時**
   - 機能の正式名称の確認
   - 関連画面・データの参照
   - システム全体の理解

3. **新メンバーのオンボーディング**
   - ゲーム全体像の把握
   - 各コンテンツの概要理解
   - 用語の統一

4. **マスターデータ作成時**
   - 関連テーブルの確認
   - データ構造の理解
   - 命名規則の参考

### メンテナンス

**更新タイミング:**
- 新しい画面が追加された時
- 新しいマスターデータテーブルが追加された時
- 機能の大幅な変更があった時

**更新方法:**
```bash
# 画面一覧の確認
cat docs/機能一覧/画面一覧/画面一覧.md

# マスターデータテーブルの確認
ls projects/glow-masterdata/*.csv | \
  sed 's/.*\///' | sed 's/\.csv$//' | \
  sort | uniq | grep -E "^Mst" | \
  sed 's/Mst//' | sed 's/I18n$//' | \
  sort | uniq

# コンテンツ一覧の更新
# 該当カテゴリに追加、または新規カテゴリを作成
```

---

## 💡 学んだこと

1. **複数の情報源を組み合わせることで、より正確で包括的なドキュメントが作成できる**
   - 画面一覧（UI視点）
   - マスターデータ（データ視点）
   - ドキュメント（企画視点）

2. **命名規則の理解が、効率的な情報整理のカギ**
   - パターン認識で機能をグルーピング
   - 対応関係の推測が容易に

3. **用語の統一は重要**
   - プロジェクト内での正式呼称を使用
   - 一貫性のあるドキュメント

4. **体系的な整理により、情報が使いやすくなる**
   - 階層構造
   - 一貫したフォーマット
   - 視認性の工夫

---

**作成日**: 2025-12-27
**最終更新**: 2025-12-27
