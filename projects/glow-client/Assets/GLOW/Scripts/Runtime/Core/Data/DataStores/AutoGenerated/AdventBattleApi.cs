using System;
using System.Collections;
using System.Collections.Generic;
using System.Runtime.Serialization;
using System.Threading;
using Cysharp.Threading.Tasks;
using Newtonsoft.Json;
using UnityEngine;
using UnityHTTPLibrary;
using WPFramework.Data.Extensions;
using GLOW.Core.Data.Data;
using GLOW.Core.Domain.Constants;
using Zenject;

// ----------------------------------------------------------------------
// This file is auto-generated by SchemaBuilder. Do not modify directly.
// ----------------------------------------------------------------------

namespace GLOW.Core.Data.DataStores
{
    public sealed class AdventBattleApi
    {
        [Serializable]
        class JsonParamTop
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstAdventBattleId {
                get => mstAdventBattleId;
                set => mstAdventBattleId = value;
            }
            [DataMember(Name = "mstAdventBattleId")] [SerializeField] [JsonProperty("mstAdventBattleId")] string mstAdventBattleId;
        }
        [Serializable]
        class JsonParamStart
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstAdventBattleId {
                get => mstAdventBattleId;
                set => mstAdventBattleId = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public int PartyNo {
                get => partyNo;
                set => partyNo = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public bool IsChallengeAd {
                get => isChallengeAd;
                set => isChallengeAd = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public InGameStartBattleLogData InGameBattleLog {
                get => inGameBattleLog;
                set => inGameBattleLog = value;
            }
            [DataMember(Name = "mstAdventBattleId")] [SerializeField] [JsonProperty("mstAdventBattleId")] string mstAdventBattleId;
            [DataMember(Name = "partyNo")] [SerializeField] [JsonProperty("partyNo")] int partyNo;
            [DataMember(Name = "isChallengeAd")] [SerializeField] [JsonProperty("isChallengeAd")] bool isChallengeAd;
            [DataMember(Name = "inGameBattleLog")] [SerializeField] [JsonProperty("inGameBattleLog")] InGameStartBattleLogData inGameBattleLog;
        }
        [Serializable]
        class JsonParamEnd
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstAdventBattleId {
                get => mstAdventBattleId;
                set => mstAdventBattleId = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public InGameEndBattleLogData InGameBattleLog {
                get => inGameBattleLog;
                set => inGameBattleLog = value;
            }
            [DataMember(Name = "mstAdventBattleId")] [SerializeField] [JsonProperty("mstAdventBattleId")] string mstAdventBattleId;
            [DataMember(Name = "inGameBattleLog")] [SerializeField] [JsonProperty("inGameBattleLog")] InGameEndBattleLogData inGameBattleLog;
        }
        [Serializable]
        class JsonParamAbort
        {
            [IgnoreDataMember] [JsonIgnore]
            public int AbortType {
                get => abortType;
                set => abortType = value;
            }
            [DataMember(Name = "abortType")] [SerializeField] [JsonProperty("abortType")] int abortType;
        }
        [Serializable]
        class JsonParamCleanup
        {
        }
        [Serializable]
        class JsonParamRanking
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstAdventBattleId {
                get => mstAdventBattleId;
                set => mstAdventBattleId = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public bool IsPrevious {
                get => isPrevious;
                set => isPrevious = value;
            }
            [DataMember(Name = "mstAdventBattleId")] [SerializeField] [JsonProperty("mstAdventBattleId")] string mstAdventBattleId;
            [DataMember(Name = "isPrevious")] [SerializeField] [JsonProperty("isPrevious")] bool isPrevious;
        }
        [Serializable]
        class JsonParamInfo
        {
        }

        [Inject(Id = WPFramework.Constants.Zenject.FrameworkInjectId.ServerApi.Game)] ServerApi APIContext { get; }

        public async UniTask<AdventBattleTopResultData> Top(CancellationToken cancellationToken, string mstAdventBattleId)
        {
            var param = new JsonParamTop();
            param.MstAdventBattleId = mstAdventBattleId;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };

            return await APIContext.Post<AdventBattleTopResultData>(cancellationToken, "/api/advent_battle/top", payload);
        }
        public async UniTask<HeadOK> Start(CancellationToken cancellationToken, string mstAdventBattleId, int partyNo, bool isChallengeAd, InGameStartBattleLogData inGameBattleLog)
        {
            var param = new JsonParamStart();
            param.MstAdventBattleId = mstAdventBattleId;
            param.PartyNo = partyNo;
            param.IsChallengeAd = isChallengeAd;
            param.InGameBattleLog = inGameBattleLog;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };

            return await APIContext.Post<HeadOK>(cancellationToken, "/api/advent_battle/start", payload);
        }
        public async UniTask<AdventBattleEndResultData> End(CancellationToken cancellationToken, string mstAdventBattleId, InGameEndBattleLogData inGameBattleLog)
        {
            var param = new JsonParamEnd();
            param.MstAdventBattleId = mstAdventBattleId;
            param.InGameBattleLog = inGameBattleLog;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };

            return await APIContext.Post<AdventBattleEndResultData>(cancellationToken, "/api/advent_battle/end", payload);
        }
        public async UniTask<AdventBattleAbortResultData> Abort(CancellationToken cancellationToken, int abortType)
        {
            var param = new JsonParamAbort();
            param.AbortType = abortType;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };
    
            return await APIContext.Post<AdventBattleAbortResultData>(cancellationToken, "/api/advent_battle/abort", payload);
        }
        public async UniTask<HeadOK> Cleanup(CancellationToken cancellationToken)
        {

            var payload = new Payload()
            {
                Data = Array.Empty<byte>(),
                ContentType = MimeTypes.Json
            };
    
            return await APIContext.Post<HeadOK>(cancellationToken, "/api/advent_battle/cleanup", payload);
        }
        public async UniTask<AdventBattleRankingResultData> Ranking(CancellationToken cancellationToken, string mstAdventBattleId, bool isPrevious)
        {
            var payload = new Payload()
            {
                Data = Array.Empty<byte>(),
                ContentType = MimeTypes.Json
            };
            var uriParameters = System.Web.HttpUtility.ParseQueryString(string.Empty);
            uriParameters["mstAdventBattleId"] = mstAdventBattleId;
            uriParameters["isPrevious"] = isPrevious.ToString();

            return await APIContext.Get<AdventBattleRankingResultData>(cancellationToken, "/api/advent_battle/ranking?" + uriParameters, payload);
        }
        public async UniTask<AdventBattleInfoResultData> Info(CancellationToken cancellationToken)
        {

            var payload = new Payload()
            {
                Data = Array.Empty<byte>(),
                ContentType = MimeTypes.Json
            };

            return await APIContext.Get<AdventBattleInfoResultData>(cancellationToken, "/api/advent_battle/info", payload);
        }
    }
}
