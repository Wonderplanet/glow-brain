// ReSharper disable RedundantUsingDirective
// ReSharper disable InconsistentNaming
using System;
using System.Collections;
using System.Collections.Generic;
using System.Runtime.Serialization;
using System.Threading;
using Cysharp.Threading.Tasks;
using Newtonsoft.Json;
using UnityEngine;
using UnityHTTPLibrary;
using WPFramework.Data.Extensions;
using GLOW.Core.Data.Data;
using GLOW.Core.Domain.Constants;
using Zenject;

// ----------------------------------------------------------------------
// This file is auto-generated by SchemaBuilder. Do not modify directly.
// ----------------------------------------------------------------------

namespace GLOW.Core.Data.DataStores
{
    public sealed class OutpostApi
    {
        [Serializable]
        class JsonParamEnhance
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstOutpostEnhancementId {
                get => mstOutpostEnhancementId;
                set => mstOutpostEnhancementId = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public int Level {
                get => level;
                set => level = value;
            }
            [DataMember(Name = "mstOutpostEnhancementId")] [SerializeField] [JsonProperty("mstOutpostEnhancementId")] string mstOutpostEnhancementId;
            [DataMember(Name = "level")] [SerializeField] [JsonProperty("level")] int level;
        }
        [Serializable]
        class JsonParamChangeArtwork
        {
            [IgnoreDataMember] [JsonIgnore]
            public string MstOutpostId {
                get => mstOutpostId;
                set => mstOutpostId = value;
            }
            [IgnoreDataMember] [JsonIgnore]
            public string MstArtworkId {
                get => mstArtworkId;
                set => mstArtworkId = value;
            }
            [DataMember(Name = "mstOutpostId")] [SerializeField] [JsonProperty("mstOutpostId")] string mstOutpostId;
            [DataMember(Name = "mstArtworkId")] [SerializeField] [JsonProperty("mstArtworkId")] string mstArtworkId;
        }

        [Inject(Id = WPFramework.Constants.Zenject.FrameworkInjectId.ServerApi.Game)] ServerApi APIContext { get; }

        public async UniTask<EnhanceResultData> Enhance(CancellationToken cancellationToken, string mstOutpostEnhancementId, int level)
        {
            var param = new JsonParamEnhance();
            param.MstOutpostEnhancementId = mstOutpostEnhancementId;
            param.Level = level;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };
    
            return await APIContext.Post<EnhanceResultData>(cancellationToken, "/api/outpost/enhance", payload);
        }
        public async UniTask<ChangeArtworkResultData> ChangeArtwork(CancellationToken cancellationToken, string mstOutpostId, string mstArtworkId)
        {
            var param = new JsonParamChangeArtwork();
            param.MstOutpostId = mstOutpostId;
            param.MstArtworkId = mstArtworkId;
            var json = JsonConvert.SerializeObject(param);
            var payload = new Payload()
            {
                Data = System.Text.Encoding.UTF8.GetBytes(json),
                ContentType = MimeTypes.Json
            };
    
            return await APIContext.Post<ChangeArtworkResultData>(cancellationToken, "/api/outpost/change_artwork", payload);
        }
    }
}
