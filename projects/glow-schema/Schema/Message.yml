enum:
  - name: MessageType
    params:
      - name: All
      - name: Individual
  - name: MessageStatus
    params:
      - name: New
      - name: Opened
      - name: Received

data:
  - name: MessageReward
    obscure: true
    params:
      - name: reward
        type: RewardData

  - name: Message
    obscure: true
    params:
      - name: usrMessageId
        type: string
      - name: oprMessageId
        type: string?
      - name: startAt
        type: DateTimeOffset
      - name: openedAt
        type: DateTimeOffset?
      - name: receivedAt
        type: DateTimeOffset?
      - name: expiredAt
        type: DateTimeOffset?
      - name: messageRewards
        type: MessageRewardData[]
      - name: title
        type: string
      - name: body
        type: string

  - name: MessageResult
    obscure: true
    params:
      - name: messages
        type: MessageData[]

  - name: MessageReceiveResult
    obscure: true
    params:
      - name: messageRewards
        type: MessageRewardData[]
      - name: isEmblemDuplicated
        type: bool
      - name: usrParameter
        type: UsrParameterData
      - name: usrUnits
        type: UsrUnitData[]
      - name: usrItems
        type: UsrItemData[]
      - name: usrEmblems
        type: UsrEmblemData[]
      - name: userLevel
        type: UserLevelUpData
      - name: usrConditionPacks
        type: UsrConditionPackData[]

api:
  - name: Message
    actions:
      - name: UpdateAndFetch
        path: "/api/message/update_and_fetch"
        params:
        method: post
        response: MessageResultData
      - name: Receive
        path: "/api/message/receive"
        params:
          - name: usrMessageIds
            type: string[]
        method: post
        response: MessageReceiveResultData
      - name: Open
        path: "/api/message/open"
        params:
          - name: usrMessageIds
            type: string[]
        method: post
        response: HeadOK

