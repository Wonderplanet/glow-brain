<?php

namespace App\Http\Resources\Api\<%= schema["namespace"] %>;

use App\Http\Resources\Api\Masterdata\Concerns\InstanceByModelResource;
use App\Http\Resources\Api\Masterdata\Concerns\MstResourceAbstract;

// ----------------------------------------------------------------------
// This file is auto-generated by SchemaBuilder. Do not modify directly.
// ----------------------------------------------------------------------

class <%= schema["name"] %>Resource
{
    use MstResourceAbstract;
    use InstanceByModelResource;

    <%- schema["params"].each do |p| -%>
    protected const C_<%= p["name"] %> = '<%= p["name"] %>';
    <%- end -%>

    /**
     * @param array<mixed>|null $data
     */
    public function __construct(?array $data = null)
    {
        if (!is_null($data)) {
            <%- schema["params"].each do |p| -%>
            $this-><%= p["name"] %> = $data['<%= p["name"] %>'];
            <%- end -%>
        }
    }

    /** @var array<string> */
    protected $cast = [
        <%- schema["params"].each do |p| -%>
        '<%= p["name"] %>' => '<%= p["type"] %>',
        <%- end -%>
    ];

    /** @var array<string> */
    protected $snakeCased = [
        <%- schema["params"].each do |p| -%>
        '<%= p["name"] %>' => '<%= p["name"].underscore %>',
        <%- end -%>
    ];

    <%- schema["params"].each do |p| -%>
    /** @var <%= p["type"] %> */
    protected $<%= p["name"] %>;

    <%- end -%>
    /**
     * @return array<string>
     */
    protected function getValue(): array
    {
        return [
            <%- schema["params"].each do |p| -%>
            '<%= p["name"] %>' => $this-><%= p["name"] %>,
            <%- end -%>
        ];
    }
}
