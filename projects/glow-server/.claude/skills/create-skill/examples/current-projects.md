# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆåŠŸäº‹ä¾‹

ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ã‚‹æˆåŠŸã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ«ã®å®Ÿä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## äº‹ä¾‹1: migration ã‚¹ã‚­ãƒ«

### æ¦‚è¦

è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆmst/mng/usr/log/sys/adminï¼‰ã«å¯¾ã™ã‚‹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ã‚’1ã¤ã®ã‚¹ã‚­ãƒ«ã§æ‰±ã£ã¦ã„ã¾ã™ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

#### ç¾åœ¨ã®æ§‹é€ ï¼ˆãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ï¼‰

```
.claude/skills/migration/
â”œâ”€â”€ SKILL.md (40è¡Œ)
â”œâ”€â”€ common-rules.md (390è¡Œ)
â”œâ”€â”€ naming-conventions.md (300è¡Œ)
â”œâ”€â”€ commands.md (305è¡Œ)
â”œâ”€â”€ examples-mst-mng.md (278è¡Œ)
â”œâ”€â”€ examples-usr-log-sys.md (352è¡Œ)
â”œâ”€â”€ examples-admin.md (365è¡Œ)
â””â”€â”€ reference.md (528è¡Œ)

ç·è¡Œæ•°: ç´„2558è¡Œ
ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 8å€‹
```

#### æ¨å¥¨ã•ã‚Œã‚‹æ”¹å–„æ§‹é€ 

```
.claude/skills/migration/
â”œâ”€â”€ SKILL.md (40è¡Œ)
â”œâ”€â”€ common-rules.md (390è¡Œ)
â”œâ”€â”€ naming-conventions.md (300è¡Œ)
â”œâ”€â”€ reference.md (528è¡Œ)
â”œâ”€â”€ guides/
â”‚   â””â”€â”€ commands.md (305è¡Œ)
â””â”€â”€ examples/
    â”œâ”€â”€ mst-mng.md (278è¡Œ)
    â”œâ”€â”€ usr-log-sys.md (352è¡Œ)
    â””â”€â”€ admin.md (365è¡Œ)

ç·è¡Œæ•°: ç´„2558è¡Œï¼ˆåŒã˜ï¼‰
ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 8å€‹ï¼ˆåŒã˜ï¼‰
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: 2å€‹ï¼ˆguides/, examples/ï¼‰
```

### ãªãœå˜ä¸€ã‚¹ã‚­ãƒ«ã¨ã—ã¦æˆåŠŸã—ã¦ã„ã‚‹ã‹

#### 1. å…±é€šã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

å…¨ã¦ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒåŒã˜ãƒ•ãƒ­ãƒ¼ã§å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

```
1. ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã‚’ç¢ºèª
2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
3. up()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
4. down()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
5. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
6. å‹•ä½œç¢ºèª
```

#### 2. çµ±ä¸€ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«

`common-rules.md` ã§å…¨ä½“å…±é€šã®ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ï¼š
- ãƒ†ãƒ¼ãƒ–ãƒ«å‘½åè¦å‰‡
- ã‚«ãƒ©ãƒ å‘½åè¦å‰‡
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‘½åè¦å‰‡
- å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã®ãƒ«ãƒ¼ãƒ«
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œé †åº

ã“ã‚Œã‚‰ã¯å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§å…±é€šã§ã™ã€‚

#### 3. DBåˆ¥ã®å®Ÿè£…ä¾‹

å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç‰¹æ€§ã«å¿œã˜ãŸå®Ÿè£…ä¾‹ã‚’æä¾›ï¼š

**examples-mst-mng.md:**
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
- å‚ç…§é »åº¦ãŒé«˜ã„
- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãŒé‡è¦

**examples-usr-log-sys.md:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿
- å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦

**examples-admin.md:**
- ç®¡ç†ãƒ„ãƒ¼ãƒ«å°‚ç”¨
- Filamenté€£æº
- UIè¡¨ç¤ºã‚’è€ƒæ…®

#### 4. æ˜ç¢ºãªå‚ç…§æ§‹é€ 

å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ãŒæ˜ç¢ºï¼š

```
SKILL.md (40è¡Œ)
â””â”€â”€ ç›®æ¬¡ã¨ã—ã¦æ©Ÿèƒ½ã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®å°ç·š

common-rules.md (390è¡Œ)
â””â”€â”€ å…¨DBå…±é€šã®ãƒ«ãƒ¼ãƒ«

naming-conventions.md (300è¡Œ)
â””â”€â”€ å‘½åè¦å‰‡ã®è©³ç´°

commands.md (305è¡Œ)
â””â”€â”€ sail migrate ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹

examples-{db}.md (278-365è¡Œ)
â””â”€â”€ DBåˆ¥ã®å®Ÿè£…ä¾‹

reference.md (528è¡Œ)
â””â”€â”€ è©³ç´°ãªæŠ€è¡“æƒ…å ±
```

### å­¦ã¹ã‚‹ãƒã‚¤ãƒ³ãƒˆ

#### âœ… è‰¯ã„ç‚¹

1. **SKILL.mdãŒ40è¡Œã§ç°¡æ½”**
   - ç›®æ¬¡ã¨ã—ã¦æ©Ÿèƒ½
   - å„ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ˜ç¢ºãªå°ç·š

2. **å…±é€šãƒ«ãƒ¼ãƒ«ã¨å€‹åˆ¥ä¾‹ã®åˆ†é›¢**
   - common-rules.md: å…¨DBå…±é€š
   - examples-{db}.md: DBåˆ¥ã®ç‰¹æ€§

3. **å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’è±Šå¯Œã«æ²è¼‰**
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æ˜è¨˜
   - ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’æ²è¼‰
   - æ¶ç©ºã®ä¾‹ã§ã¯ãªãå®Ÿã‚³ãƒ¼ãƒ‰

4. **ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆãŒå®Ÿè¡Œå¯èƒ½**
   - å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªé …ç›®
   - Yes/Noã§åˆ¤æ–­ã§ãã‚‹

#### ğŸ”„ æ”¹å–„ã®ä½™åœ°

1. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®æ•´ç†**
   - `commands.md` â†’ `guides/commands.md`
   - `examples-{db}.md` â†’ `examples/{db}.md`
   - 3ã¤ä»¥ä¸Šã®é¡ä¼¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¾ã¨ã‚ã‚‹

2. **ãƒ•ã‚¡ã‚¤ãƒ«åã®çµ±ä¸€**
   - `examples-mst-mng.md` â†’ `examples/mst-mng.md`
   - ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ã§çµ±ä¸€

### SKILL.md ã®ä¾‹

```yaml
---
name: Implementing Laravel Migrations
description: glow-serverãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ä½¿ç”¨ã€‚è¤‡æ•°DBï¼ˆmst/mng/usr/log/sys/adminï¼‰ã«å¯¾ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»å¤‰æ›´ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¡Œã†ã€‚
---

# Implementing Laravel Migrations

glow-serverãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## Instructions

### 1. å…±é€šãƒ«ãƒ¼ãƒ«ã®ç¢ºèª

å…¨DBå…±é€šã®ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ã‚«ãƒ©ãƒ å‘½åè¦å‰‡ã€åˆ¶ç´„ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¾ã™ã€‚
å‚ç…§: **[common-rules.md](common-rules.md)**

### 2. å‘½åè¦å‰‡ã®ç¢ºèª

è©³ç´°ãªå‘½åè¦å‰‡ã‚’ç¢ºèªã—ã¾ã™ã€‚
å‚ç…§: **[naming-conventions.md](naming-conventions.md)**

### 3. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

sail migrate ã‚³ãƒãƒ³ãƒ‰ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
å‚ç…§: **[commands.md](commands.md)**

### 4. å®Ÿè£…ä¾‹ã®å‚ç…§

å¯¾è±¡DBã«å¿œã˜ãŸå®Ÿè£…ä¾‹ã‚’å‚ç…§ã—ã¾ã™ã€‚
å‚ç…§ãƒªã‚¹ãƒˆ:
- **[mst/mng DBä¾‹](examples-mst-mng.md)**
- **[usr/log/sys DBä¾‹](examples-usr-log-sys.md)**
- **[admin DBä¾‹](examples-admin.md)**

### 5. è©³ç´°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®ç¢ºèª

è©³ç´°ãªæŠ€è¡“æƒ…å ±ãŒå¿…è¦ãªå ´åˆã¯å‚ç…§ã—ã¾ã™ã€‚
å‚ç…§: **[reference.md](reference.md)**

## å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[common-rules.md](common-rules.md)** - å…¨DBå…±é€šãƒ«ãƒ¼ãƒ«
- **[naming-conventions.md](naming-conventions.md)** - è©³ç´°ãªå‘½åè¦å‰‡
- **[commands.md](commands.md)** - sail migrate ã‚³ãƒãƒ³ãƒ‰
- **[examples-mst-mng.md](examples-mst-mng.md)** - mst/mng DBå®Ÿè£…ä¾‹
- **[examples-usr-log-sys.md](examples-usr-log-sys.md)** - usr/log/sys DBå®Ÿè£…ä¾‹
- **[examples-admin.md](examples-admin.md)** - admin DBå®Ÿè£…ä¾‹
- **[reference.md](reference.md)** - è©³ç´°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
```

---

## äº‹ä¾‹2: admin-reward-display ã‚¹ã‚­ãƒ«

### æ¦‚è¦

ç®¡ç†ãƒ„ãƒ¼ãƒ«ã§å ±é…¬æƒ…å ±ã‚’æ‰±ã†å®Ÿè£…ã«ç‰¹åŒ–ã—ãŸã‚¹ã‚­ãƒ«ã§ã™ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

#### ç¾åœ¨ã®æ§‹é€ ï¼ˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹æ§‹é€ ï¼‰

```
.claude/skills/admin-reward-display/
â”œâ”€â”€ SKILL.md (36è¡Œ)
â”œâ”€â”€ architecture.md (420è¡Œ)
â”œâ”€â”€ pattern-paginated-tables.md (434è¡Œ)
â”œâ”€â”€ pattern-detail-page-tables.md (536è¡Œ)
â””â”€â”€ pattern-form-input.md (521è¡Œ)

ç·è¡Œæ•°: ç´„1947è¡Œ
ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 5å€‹
```

#### æ¨å¥¨ã•ã‚Œã‚‹æ”¹å–„æ§‹é€ 

```
.claude/skills/admin-reward-display/
â”œâ”€â”€ SKILL.md (36è¡Œ)
â”œâ”€â”€ architecture.md (420è¡Œ)
â””â”€â”€ patterns/
    â”œâ”€â”€ paginated-tables.md (434è¡Œ)
    â”œâ”€â”€ detail-page-tables.md (536è¡Œ)
    â””â”€â”€ form-input.md (521è¡Œ)

ç·è¡Œæ•°: ç´„1947è¡Œï¼ˆåŒã˜ï¼‰
ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 5å€‹ï¼ˆåŒã˜ï¼‰
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: 1å€‹ï¼ˆpatterns/ï¼‰
```

### ãªãœå˜ä¸€ã‚¹ã‚­ãƒ«ã¨ã—ã¦æˆåŠŸã—ã¦ã„ã‚‹ã‹

#### 1. æ˜ç¢ºãªè²¬å‹™

å ±é…¬æƒ…å ±ã®è¡¨ç¤ºã«ç‰¹åŒ–ï¼š
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã®å ±é…¬è¡¨ç¤º
- è©³ç´°ãƒšãƒ¼ã‚¸å†…ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã®å ±é…¬è¡¨ç¤º
- ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã§ã®å ±é…¬é¸æŠ

#### 2. å…±é€šã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

å…¨ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ `RewardInfoGetTrait` ã‚’ä½¿ç”¨ï¼š
```php
use App\Domain\Common\Traits\RewardInfoGetTrait;

class ProductResource extends Resource
{
    use RewardInfoGetTrait;

    // RewardInfoGetTrait ãŒæä¾›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰:
    // - getRewardInfo($reward)
    // - getRewardInfoBatch($rewards)
}
```

#### 3. N+1å•é¡Œå¯¾ç­–ãŒå…±é€š

å…¨ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§åŒã˜N+1å¯¾ç­–æ‰‹æ³•ï¼š
```php
// Eager Loading
$query->with([
    'rewards.mstItem',
    'rewards.mstCard',
    'rewards.mstGrowthItem',
]);

// getRewardInfoBatch() ã§ä¸€æ‹¬å–å¾—
$rewardInfos = $this->getRewardInfoBatch($model->rewards);
```

#### 4. 3ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

**ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆpattern-paginated-tables.mdï¼‰**
- ä¸€è¦§ãƒšãƒ¼ã‚¸ã®ãƒ†ãƒ¼ãƒ–ãƒ«
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ
- å¤šæ•°ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ‰±ã†

**ãƒ‘ã‚¿ãƒ¼ãƒ³2: è©³ç´°ãƒšãƒ¼ã‚¸å†…ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆpattern-detail-page-tables.mdï¼‰**
- è©³ç´°ãƒšãƒ¼ã‚¸å†…ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
- è¦ªãƒ¬ã‚³ãƒ¼ãƒ‰ã«ç´ã¥ãå ±é…¬ãƒªã‚¹ãƒˆ
- å°‘æ•°ã®ãƒ¬ã‚³ãƒ¼ãƒ‰

**ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆpattern-form-input.mdï¼‰**
- å ±é…¬é¸æŠã®ãƒ•ã‚©ãƒ¼ãƒ 
- Repeater ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
- å…¥åŠ›ã¨è¡¨ç¤ºã®ä¸¡æ–¹

### å­¦ã¹ã‚‹ãƒã‚¤ãƒ³ãƒˆ

#### âœ… è‰¯ã„ç‚¹

1. **SKILL.mdãŒ36è¡Œã§éå¸¸ã«ç°¡æ½”**
   - æœ€ã‚‚æ¨å¥¨ã•ã‚Œã‚‹é•·ã•
   - ç›®æ¬¡ã¨ã—ã¦å®Œç’§ã«æ©Ÿèƒ½

2. **architecture.md ã§å…¨ä½“åƒã‚’æç¤º**
   - RewardInfoGetTrait ã®ä»•çµ„ã¿
   - N+1å•é¡Œå¯¾ç­–ã®å…¨ä½“åƒ
   - å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä½¿ã„åˆ†ã‘

3. **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥ã«è©³ç´°ã‚¬ã‚¤ãƒ‰**
   - pattern-paginated-tables.md
   - pattern-detail-page-tables.md
   - pattern-form-input.md
   - å„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒç‹¬ç«‹

4. **å®Ÿè£…ä¾‹ãŒè±Šå¯Œ**
   - å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¤‡æ•°ã®å®Ÿä¾‹
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æ˜è¨˜
   - ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’æ²è¼‰

#### ğŸ”„ æ”¹å–„ã®ä½™åœ°

1. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®æ•´ç†**
   - `pattern-*.md` â†’ `patterns/*.md`
   - 3ã¤ã®é¡ä¼¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¾ã¨ã‚ã‚‹

2. **ãƒ•ã‚¡ã‚¤ãƒ«åã®æ•´ç†**
   - `pattern-paginated-tables.md` â†’ `patterns/paginated-tables.md`
   - ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ã—ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§æ•´ç†

### SKILL.md ã®ä¾‹

```yaml
---
name: Displaying Reward Information in Admin
description: ç®¡ç†ãƒ„ãƒ¼ãƒ«ã®ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã‚„ãƒ•ã‚©ãƒ¼ãƒ ã§å ±é…¬æƒ…å ±ã‚’æ‰±ã†å®Ÿè£…ãŒå¿…è¦ãªæ™‚ã«ä½¿ç”¨ã€‚RewardInfoGetTraitã‚’ä½¿ã£ãŸå ±é…¬æƒ…å ±ã®å–å¾—ã¨è¡¨ç¤ºã€N+1å•é¡Œã®å›é¿ã‚’è¡Œã†ã€‚
---

# Displaying Reward Information in Admin

ç®¡ç†ãƒ„ãƒ¼ãƒ«ã§ã®å ±é…¬æƒ…å ±è¡¨ç¤ºã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## Instructions

### 1. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç†è§£

RewardInfoGetTrait ã®ä»•çµ„ã¿ã¨N+1å•é¡Œå¯¾ç­–ã‚’ç†è§£ã—ã¾ã™ã€‚
å‚ç…§: **[architecture.md](architecture.md)**

### 2. å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é¸æŠ

ä½¿ç”¨ã™ã‚‹å ´é¢ã«å¿œã˜ã¦é©åˆ‡ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚

å‚ç…§ãƒªã‚¹ãƒˆ:
- **[ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«](pattern-paginated-tables.md)** - ä¸€è¦§ãƒšãƒ¼ã‚¸
- **[è©³ç´°ãƒšãƒ¼ã‚¸å†…ãƒ†ãƒ¼ãƒ–ãƒ«](pattern-detail-page-tables.md)** - è©³ç´°ãƒšãƒ¼ã‚¸
- **[ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›](pattern-form-input.md)** - ãƒ•ã‚©ãƒ¼ãƒ 

## å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[architecture.md](architecture.md)** - RewardInfoGetTraitã€N+1å¯¾ç­–
- **[pattern-paginated-tables.md](pattern-paginated-tables.md)** - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³
- **[pattern-detail-page-tables.md](pattern-detail-page-tables.md)** - è©³ç´°ãƒšãƒ¼ã‚¸å†…ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³
- **[pattern-form-input.md](pattern-form-input.md)** - ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³
```

---

## ä¸¡ã‚¹ã‚­ãƒ«ã«å…±é€šã™ã‚‹æˆåŠŸè¦å› 

### 1. SKILL.mdãŒç°¡æ½”ï¼ˆ30-50è¡Œï¼‰

**migration:** 40è¡Œ
**admin-reward-display:** 36è¡Œ

â†’ **ä¸¡æ–¹ã¨ã‚‚æ¨å¥¨ç¯„å›²å†…**

### 2. ç›®æ¬¡ã¨ã—ã¦æ©Ÿèƒ½

è©³ç´°ãªèª¬æ˜ã¯å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¼‰ã—ã€SKILL.mdã¯å°ç·šã®ã¿ã€‚

### 3. å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’è±Šå¯Œã«æ²è¼‰

æ¶ç©ºã®ä¾‹ã§ã¯ãªãã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å¼•ç”¨ï¼š
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æ˜è¨˜
- ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’æ²è¼‰
- ä¸€éƒ¨çœç•¥ã—ãªã„

### 4. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆãŒå®Ÿè¡Œå¯èƒ½

å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªé …ç›®ï¼š
- Yes/Noã§åˆ¤æ–­ã§ãã‚‹
- é‡è¦ãªé …ç›®ã«â˜…ãƒãƒ¼ã‚¯

### 5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ«ãƒ¼ãƒ«ã®æ˜è¨˜

ä¸€èˆ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã ã‘ã§ãªãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã‚’æ˜è¨˜ï¼š
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `sail migrate` ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹
- å ±é…¬è¡¨ç¤º: `RewardInfoGetTrait` ã®ä½¿ã„æ–¹

## æ”¹å–„ææ¡ˆã®ã¾ã¨ã‚

### migration ã‚¹ã‚­ãƒ«

**ç¾åœ¨:**
```
.claude/skills/migration/
â”œâ”€â”€ SKILL.md
â”œâ”€â”€ common-rules.md
â”œâ”€â”€ naming-conventions.md
â”œâ”€â”€ commands.md
â”œâ”€â”€ examples-mst-mng.md
â”œâ”€â”€ examples-usr-log-sys.md
â”œâ”€â”€ examples-admin.md
â””â”€â”€ reference.md
```

**æ¨å¥¨:**
```
.claude/skills/migration/
â”œâ”€â”€ SKILL.md
â”œâ”€â”€ common-rules.md
â”œâ”€â”€ naming-conventions.md
â”œâ”€â”€ reference.md
â”œâ”€â”€ guides/
â”‚   â””â”€â”€ commands.md
â””â”€â”€ examples/
    â”œâ”€â”€ mst-mng.md
    â”œâ”€â”€ usr-log-sys.md
    â””â”€â”€ admin.md
```

### admin-reward-display ã‚¹ã‚­ãƒ«

**ç¾åœ¨:**
```
.claude/skills/admin-reward-display/
â”œâ”€â”€ SKILL.md
â”œâ”€â”€ architecture.md
â”œâ”€â”€ pattern-paginated-tables.md
â”œâ”€â”€ pattern-detail-page-tables.md
â””â”€â”€ pattern-form-input.md
```

**æ¨å¥¨:**
```
.claude/skills/admin-reward-display/
â”œâ”€â”€ SKILL.md
â”œâ”€â”€ architecture.md
â””â”€â”€ patterns/
    â”œâ”€â”€ paginated-tables.md
    â”œâ”€â”€ detail-page-tables.md
    â””â”€â”€ form-input.md
```

## ã¾ã¨ã‚

ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€æ—¢ã«å„ªã‚ŒãŸã‚¹ã‚­ãƒ«ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ï¼š

**migration ã‚¹ã‚­ãƒ«:**
- è¤‡æ•°DBã‚’1ã¤ã®ã‚¹ã‚­ãƒ«ã§æ‰±ã†æˆåŠŸä¾‹
- å…±é€šãƒ«ãƒ¼ãƒ«ã¨å€‹åˆ¥ä¾‹ã®åˆ†é›¢ãŒå„ªã‚Œã¦ã„ã‚‹
- å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’è±Šå¯Œã«æ²è¼‰

**admin-reward-display ã‚¹ã‚­ãƒ«:**
- ç‰¹å®šæ©Ÿèƒ½ã«ç‰¹åŒ–ã—ãŸæˆåŠŸä¾‹
- 3ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¢ºã«åˆ†é¡
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è§£èª¬ãŒå……å®Ÿ

ã“ã‚Œã‚‰ã®ã‚¹ã‚­ãƒ«ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨ï¼š
- SKILL.mdã¯30-50è¡Œã§ç°¡æ½”ã«
- å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å¼•ç”¨
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’æ˜è¨˜
- 3ã¤ä»¥ä¸Šã®é¡ä¼¼ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§æ•´ç†ï¼ˆæ”¹å–„ä½™åœ°ï¼‰

æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’ä½œæˆã™ã‚‹éš›ã¯ã€ã“ã‚Œã‚‰ã®æˆåŠŸä¾‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚
