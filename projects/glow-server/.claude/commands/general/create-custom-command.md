# カスタムコマンド作成支援

指定された要件に基づいて新しいカスタムスラッシュコマンドを作成します。

## 使用方法

```
/project:create-custom-command [コマンド名] [コマンドの説明]
```

例: `/project:create-custom-command db-backup データベースのバックアップを作成`

## 実行内容

引数: $ARGUMENTS

### 1. 入力パラメータ解析

- コマンド名: 第1引数（スラッシュやハイフンは自動変換）
- コマンドの説明: 第2引数以降（詳細な要件を含む）

### 2. コマンドテンプレート作成

以下のテンプレートを使用してカスタムコマンドファイルを作成します：

```markdown
# {コマンド名}

{コマンドの説明}

## 使用方法

```
/project:{コマンド名} [パラメータ]
```

例: `/project:{コマンド名} 引数例`

## 実行内容

引数: $ARGUMENTS

### 1. 前処理
- 引数の検証
- 必要な前提条件の確認

### 2. メイン処理
- {具体的な処理内容}

### 3. 後処理
- 結果の検証
- 必要な場合はクリーンアップ

## 注意事項

- 実行前の確認事項
- エラーが発生した場合の対処法
```

### 3. 対話形式での要件定義

ユーザーと対話しながら以下の詳細を決定：

1. **コマンドの目的**
   - 何を達成したいか
   - どのような作業を自動化したいか

2. **入力パラメータ**
   - 必須パラメータ
   - オプションパラメータ
   - パラメータの形式や制約

3. **実行手順**
   - 具体的な処理ステップ
   - 使用するツールやMCPコマンド
   - エラーハンドリング

4. **出力形式**
   - 結果の表示方法
   - ログやレポートの形式

### 4. プロジェクト固有の設定

glow-serverプロジェクトの特性に合わせて以下を考慮：

- Dockerコンテナでの実行
- 複数DB接続（MySQL、TiDB）
- Laravel Sailの使用
- 品質チェック（phpcs、phpstan、deptrac）
- 日本語でのドキュメント作成

### 5. コマンドファイル生成

`.claude/commands/` ディレクトリに新しいコマンドファイルを作成し、
以下の内容を含めます：

- コマンドの概要と使用方法
- 詳細な実行手順
- 使用例
- 注意事項とトラブルシューティング

## 作成支援フロー

1. **要件ヒアリング**
   ```
   どのような作業を自動化したいですか？
   必要な入力パラメータは何ですか？
   期待する出力結果は何ですか？
   ```

2. **コマンド設計**
   - 処理フローの設計
   - 必要なツールの特定
   - エラーハンドリングの設計

3. **ファイル生成**
   - コマンドファイルの作成
   - 動作確認用のテストケース提案

4. **使用方法の説明**
   - 作成したコマンドの使い方
   - カスタマイズ方法

このコマンドを使って、効率的にプロジェクト固有のワークフローを自動化できるカスタムコマンドを作成しましょう。