# サーバー要件抽出: ステップアップガシャ

## サーバー要件一覧

### 要件1: ステップアップガシャの最大ステップ数管理
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ・ステップアップは最大 10 回まで設定可能。
- **サーバー観点での補足:**
  - ステップ数の上限管理と、各ステップの状態・進行状況の記録が必要となる点

### 要件2: ステップごとのプリズム（通貨）設定管理
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ・ステップアップ毎に必要なプリズム（無償 or 有償の設定可能）個数と確定枠を設定可能。
- **サーバー観点での補足:**
  - 各ステップで消費される通貨（プリズム）の種類（無償/有償）と個数の管理、および通貨残高の検証が考慮ポイントとなる

### 要件3: 確定枠の設定管理
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ・確定枠はガシャラインナップの中のレアリティから最大 10 体まで設定可能。
  > 　〇〇以上から N 体の設定も可能。
- **サーバー観点での補足:**
  - ステップごとに確定枠として排出されるアイテム数、対象レアリティ、レアリティ条件（〇〇以上）のデータ管理が必要となる点

### 要件4: ガシャラインナップとレアリティの関連付け
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ・ガシャラインナップの中のレアリティから選ぶことも可能。
- **サーバー観点での補足:**
  - ガシャのラインナップ定義と各アイテムのレアリティ情報の関連付け、およびレアリティによる抽選対象の絞り込みに関するデータ管理が考慮ポイントとなる

### 要件5: 無料ステップの設定
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ⇨ステップ N 回目は無料、アイテムも設定可能、確定枠の設定、ステップアップの周回数の設定もできる
- **サーバー観点での補足:**
  - 特定ステップでのコスト免除（無料設定）の管理と、通常の通貨消費処理との条件分岐が考慮ポイントとなる

### 要件6: アイテムの設定
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ⇨ステップ N 回目は無料、アイテムも設定可能、確定枠の設定、ステップアップの周回数の設定もできる
- **サーバー観点での補足:**
  - ステップごとに排出可能なアイテムの種類や個数の設定、およびガシャ実行時のアイテム付与に関するデータ管理が必要となる点

### 要件7: ステップアップの周回数管理
- **元ページ:** Page 1, 「ステップアップガシャ」の仕様要件部分
- **抜粋:**
  > ⇨ステップ N 回目は無料、アイテムも設定可能、確定枠の設定、ステップアップの周回数の設定もできる
- **サーバー観点での補足:**
  - ユーザーがステップアップガシャを何周できるか（周回上限）の設定と、現在の周回数の記録・検証が必要となる点

### 要件8: 最終ステップの確定報酬
- **元ページ:** Page 1, 「◼ ステップアップガシャの利点と重要性」セクション
- **抜粋:**
  > 最終ステップ（例： 5 ステップ目）に「最高レアリティ確定」などの強力な特典を設定することで、ユーザーに「ここまでは引くべき」という 明確なゴールと費用対効果（コストパフォーマンス）を示します。
- **サーバー観点での補足:**
  - 最終ステップにおける特別な確定報酬（最高レアリティ確定など）の設定と、その報酬の排出処理が考慮ポイントとなる

### 要件9: ステップごとの割引・回数設定
- **元ページ:** Page 1, 「◼ ステップアップガシャの利点と重要性」セクション
- **抜粋:**
  > 第1 ステップや第 2 ステップを「大幅な割引」や「通常より少ない回数」で設定することで、 無課金・微課金層も試しに引くハードルが下がり 、ガシャへの接触率を高め、その後の継続的な課金への誘導を促します。
- **サーバー観点での補足:**
  - ステップごとに異なる消費コスト（割引適用後の金額）や実行回数の設定、およびそれらの値を用いた検証処理が必要となる点

### 要件10: ユーザーごとのステップ進行状況管理
- **元ページ:** Page 1, 全体的な仕様から推察
- **抜粋:**
  > （明示的な記載はないが、ステップアップガシャの性質上、ユーザーごとに現在のステップ位置を記録する必要がある）
- **サーバー観点での補足:**
  - ユーザーごとに現在どのステップまで進行しているかの状態管理、および周回ごとの進行状況のリセット・継続処理が必要となる点
