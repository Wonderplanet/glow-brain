■ガシャマスタJSON,,,,,,,,
,s3:/(ログROOT)/APP_ID/GASHA_ID/gasha_YYYYMMDD.json に格納,,,,,,,
,,,,,,項目名,データ制限等,備考
,{,,,,,,,
,,app_id,,,,アプリID,文字列（半角英数128文字まで）,"必須
バナスケ_IDを入力する。
※何を入れるかは別途ご連絡します。"
,,app_name,,,,アプリ名,文字列（256文字まで）,必須
,,gasha_id,,,,ガシャID,文字列（半角英数128文字まで）,必須
,,gasha_name,,,,ガシャ名,文字列（256文字まで）,必須
,,gasha_type,,,,ガシャタイプ,整数,"必須
以下 0～2 のいずれか一つを設定
0: 通常ガシャ   ※BOX/選択型以外のガシャはすべて 0
1: BOX(共有タイプ) ※BOXを複数人で共有するタイプ
2: BOX(ユーザ個別) ※ユーザ個別にBOXが与えられるタイプ
3: 当選アイテム選択型ガシャ
"
,,gasha_group_id,,,,ガシャグループID,文字列（半角英数32文字まで）,"任意。
複数ガシャをグルーピングしたい場合に設定"
,,open_time,,,,ガシャ開催期間FROM,BIGINT,"必須。unixtime(秒)形式
ガシャ開催期間を変更する事で世代管理を行う事が出来る
※詳細についてはシート名「ガシャマスタ世代管理について」を参照"
,,close_time,,,,ガシャ開催期間TO,NULL or 整数,unixtime(秒)形式。常時開催の場合は空
,,steps[],,,,ステップリスト,,シングル／BOXではリスト要素１固定。ステップアップではステップ数に応じたリスト要素を持つ
,,{,,,,,,
,,,sets[],,,,,"必須
使われるセット配列を以下に設置"
,,,{,,,,,
,,,,set_name,,抽選セットの識別名,文字列（256文字まで）,"必須 
使われるセットの名前を登録。
保証抽選が存在する場合、通常と保証のset_nameを異なるものとして登録する。
システムが保証/非保証を判別できる場合set_nameを""通常"" / ""保証""などにし、それが出来ないようなシステムでは、排出もととなるセット情報を記入。"
,,,,items[],,通常抽選分排出アイテムリスト,,抽選がない場合省略可(別セットのみ抽選する場合など)
,,,,{,,排出アイテム詳細,,
,,,,,id,　排出アイテムID,文字列（半角英数128文字まで）,※アイテムマスタと共通化すること
,,,,,item_num,  排出アイテム個数,整数,"排出されるアイテムがIDと個数で一意になる場合に設定
(省略した場合は1が設定される)"
,,,,,weight,　排出確率％（設定値）,"小数（0～100）
※小数点以下桁数について制限はしないが計算精度の保証はしない","「通常」および「BOX」ガシャでは全itemsの合算結果が基本100%となる（※1）
同合算結果が100%とならない場合、排出設定が正しく行われていない可能性がある

※1…当選アイテム選択型ガシャでは、選択されたアイテムのweight_spとその他のアイテムのweightの合計で実質的に100%となるが、本システムの仕様上weight_spは合算結果には含みません。
(提供割合はweightの合算結果を表示する)

※2…weightが0%のアイテムは排出対象外としてitemsから除外される
"
,,,,,weight_sp,"　当選アイテム選択時
　排出確率％（設定値）","小数（0～100）
※小数点以下桁数について制限はしないが計算精度の保証はしない","「当選アイテム選択型ガシャ」専用
「通常」および「BOX」ガシャ時は無視される
weight_spが未設定あるいは0%の場合、選択候補外のアイテムとして扱われる
"
,,,,},,,,
,,,},,,,,
,,},,,,,,
,},,,,,,,
,,,,,,,,
■アイテムマスタJSON,,,,,,,,
,s3:/(ログROOT)/APP_ID/items_YYYYMMDD.json に格納,,,,,,,
,,,,,,項目名,データ制限等,備考
,{,,,,,,,
,,app_id,,,,アプリID,文字列（半角英数128文字まで）,"必須
※ガシャマスタと共通化すること"
,,items[],,,,アイテムリスト,,
,,{,,,,アイテム詳細,,
,,,id,,,　アイテムID,文字列（半角英数128文字まで）,
,,,name,,,　アイテム名,文字列（256文字まで）,
,,,rarity,,,　レアリティ,文字列（32文字まで）,ＳＳＲ、★６　等
,,},,,,,,
,},,,,,,,
,,,,,,,,
■排出結果ログテキスト,,,,,,,,
,s3:/(ログROOT)/APP_ID/GASHA_ID/logs/YYYYMMDD/(サーバ識別子).json.gz に格納,,,,,,,
,,,,,,,,
,,,,,,,,
,※排出結果ログテキストには以下のオブジェクトのJSON文字列を１行１レコード（行の終端は半角カンマ）で出力してください,,,,,,,
,,,,,,項目名,データ制限等,備考
,{,,,,,,,
,,app_id,,,,アプリID,文字列（半角英数128文字まで）,"必須
※ガシャマスタと共通化すること"
,,gasha_id,,,,ガシャID,文字列（半角英数128文字まで）,必須
,,is_full_box,,,,BOXガシャ初期配備状態フラグ,整数,"必須
gasha_type:0 or 3 の場合は 0固定
gasha_type:1 or 2 の場合は、BOXガシャが初期配備状態で引かれたときのみ 1 を立てる"
,,exec_id,,,,購入ID,文字列（半角英数128文字まで）,"必須
購入単位でユニークなIDを付与する
シングルの場合は１購入IDのレコードは１件のみとなる
１１連の場合は１購入IDのレコードが１１件となる"
,,step_no,,,,ステップ番号,BIGINT,"必須
単発／BOXでは0固定。ステップアップではステップに応じた配列番号を指定する（0～）"
,,set_name,,,,抽選セットの識別名,文字列(256文字まで),"必須 
※ガシャマスタと共通化すること"
,,timestamp,,,,排出日時のUNIXTIME(秒),BIGINT,必須
,,user_id,,,,ユーザID,文字列（半角英数148文字まで）,必須
,,item_id,,,,排出アイテムID,文字列（半角英数128文字まで）,必須
,,item_num,,,,排出アイテム個数,整数,"排出されるアイテムがIDと個数で一意になる場合に設定
(省略した場合は1が設定される)"
,,selected_sp[],,,,当選アイテム選択リスト,,"「当選アイテム選択型ガシャ」専用
gasha_type:3 時必須(※)
ユーザーが選択した当選対象を列挙する
※当項目を設定しなかった場合、集計エラーにはならない(出来ない)が、不正な計算結果となる
"
,,{,,,,,,
,,,item_id,,,　アイテムID,,必須
,,,item_num,,,　アイテム個数,,"排出されるアイテムがIDと個数で一意になる場合に設定
(省略した場合は1が設定される)
"
,,},,,,,,
,},,,,,,,
,,,,,,,,
,◇ファイルイメージ（通常、BOX）,,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":0,""step_no"":0,""set_name"":""items"",""timestamp"":1484639032,""user_id"":""user001"",""item_id"":77,""item_num"":1},",,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":1,""exec_id"":1,""step_no"":0,""set_name"":""items"",""timestamp"":1484639033,""user_id"":""user002"",""item_id"":95,""item_num"":1},",,,,,,,
,（中略）,,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":2,""step_no"":0,""set_name"":""promised_items"",""timestamp"":1484639034,""user_id"":""user003"",""item_id"":13,""item_num"":1},",,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":3,""step_no"":0,""set_name"":""promised_items"",""timestamp"":1484639035,""user_id"":""user004"",""item_id"":39,""item_num"":1},",,,,,,,
,,,,,,,,
,,,,,,,,
,◇ファイルイメージ（当選アイテム選択型）,,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":0,""step_no"":0,""set_name"":""items"",""timestamp"":1484639032,""user_id"":""user001"",""item_id"":77,""item_num"":1,""selected_sp"":[{""item_id"":4,""item_num"":1},{""item_id"":6,""item_num"":1}]},",,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":1,""exec_id"":1,""step_no"":0,""set_name"":""items"",""timestamp"":1484639033,""user_id"":""user002"",""item_id"":95,""item_num"":1,""selected_sp"":[{""item_id"":4,""item_num"":1},{""item_id"":8,""item_num"":1}]},",,,,,,,
,（中略）,,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":2,""step_no"":0,""set_name"":""promised_items"",""timestamp"":1484639034,""user_id"":""user003"",""item_id"":13,""item_num"":1,""selected_sp"":[{""item_id"":5,""item_num"":1},{""item_id"":6,""item_num"":1}]},",,,,,,,
,"{""app_id"":""testapp001"",""gasha_id"":1,""is_full_box"":0,""exec_id"":3,""step_no"":0,""set_name"":""promised_items"",""timestamp"":1484639035,""user_id"":""user004"",""item_id"":39,""item_num"":1,""selected_sp"":[{""item_id"":4,""item_num"":1},{""item_id"":5,""item_num"":1}]},",,,,,,,